/*
Copyright 2022 Upbound Inc.
*/

// Code generated by upjet. DO NOT EDIT.

package v1alpha1

import (
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
	"k8s.io/apimachinery/pkg/runtime/schema"

	v1 "github.com/crossplane/crossplane-runtime/apis/common/v1"
)

type KeyDetailsInitParameters struct {

	// The public key in OpenSSH format of the SSH key pair for the session. When you connect to the session, you must provide the private key of the same SSH key pair.
	PublicKeyContent *string `json:"publicKeyContent,omitempty" tf:"public_key_content,omitempty"`
}

type KeyDetailsObservation struct {

	// The public key in OpenSSH format of the SSH key pair for the session. When you connect to the session, you must provide the private key of the same SSH key pair.
	PublicKeyContent *string `json:"publicKeyContent,omitempty" tf:"public_key_content,omitempty"`
}

type KeyDetailsParameters struct {

	// The public key in OpenSSH format of the SSH key pair for the session. When you connect to the session, you must provide the private key of the same SSH key pair.
	// +kubebuilder:validation:Optional
	PublicKeyContent *string `json:"publicKeyContent" tf:"public_key_content,omitempty"`
}

type SessionInitParameters struct {

	// The unique identifier (OCID) of the bastion on which to create this session.
	BastionID *string `json:"bastionId,omitempty" tf:"bastion_id,omitempty"`

	// (Updatable) The name of the session.
	DisplayName *string `json:"displayName,omitempty" tf:"display_name,omitempty"`

	// Public key details for a bastion session.
	KeyDetails []KeyDetailsInitParameters `json:"keyDetails,omitempty" tf:"key_details,omitempty"`

	// The type of the key used to connect to the session. PUB is a standard public key in OpenSSH format.
	KeyType *string `json:"keyType,omitempty" tf:"key_type,omitempty"`

	// The amount of time the session can remain active.
	SessionTTLInSeconds *float64 `json:"sessionTtlInSeconds,omitempty" tf:"session_ttl_in_seconds,omitempty"`

	// Details about a bastion session's target resource.
	TargetResourceDetails []TargetResourceDetailsInitParameters `json:"targetResourceDetails,omitempty" tf:"target_resource_details,omitempty"`
}

type SessionObservation struct {

	// The unique identifier (OCID) of the bastion on which to create this session.
	BastionID *string `json:"bastionId,omitempty" tf:"bastion_id,omitempty"`

	// The name of the bastion that is hosting this session.
	BastionName *string `json:"bastionName,omitempty" tf:"bastion_name,omitempty"`

	// The public key of the bastion host. You can use this to verify that you're connecting to the correct bastion.
	BastionPublicHostKeyInfo *string `json:"bastionPublicHostKeyInfo,omitempty" tf:"bastion_public_host_key_info,omitempty"`

	// The username that the session uses to connect to the target resource.
	BastionUserName *string `json:"bastionUserName,omitempty" tf:"bastion_user_name,omitempty"`

	// (Updatable) The name of the session.
	DisplayName *string `json:"displayName,omitempty" tf:"display_name,omitempty"`

	// The unique identifier (OCID) of the session, which can't be changed after creation.
	ID *string `json:"id,omitempty" tf:"id,omitempty"`

	// Public key details for a bastion session.
	KeyDetails []KeyDetailsObservation `json:"keyDetails,omitempty" tf:"key_details,omitempty"`

	// The type of the key used to connect to the session. PUB is a standard public key in OpenSSH format.
	KeyType *string `json:"keyType,omitempty" tf:"key_type,omitempty"`

	// A message describing the current session state in more detail.
	LifecycleDetails *string `json:"lifecycleDetails,omitempty" tf:"lifecycle_details,omitempty"`

	// The connection message for the session.
	// +mapType=granular
	SSHMetadata map[string]*string `json:"sshMetadata,omitempty" tf:"ssh_metadata,omitempty"`

	// The amount of time the session can remain active.
	SessionTTLInSeconds *float64 `json:"sessionTtlInSeconds,omitempty" tf:"session_ttl_in_seconds,omitempty"`

	// The current state of the session.
	State *string `json:"state,omitempty" tf:"state,omitempty"`

	// Details about a bastion session's target resource.
	TargetResourceDetails []TargetResourceDetailsObservation `json:"targetResourceDetails,omitempty" tf:"target_resource_details,omitempty"`

	// The time the session was created. Format is defined by RFC3339. Example: 2020-01-25T21:10:29.600Z
	TimeCreated *string `json:"timeCreated,omitempty" tf:"time_created,omitempty"`

	// The time the session was updated. Format is defined by RFC3339. Example: 2020-01-25T21:10:29.600Z
	TimeUpdated *string `json:"timeUpdated,omitempty" tf:"time_updated,omitempty"`
}

type SessionParameters struct {

	// The unique identifier (OCID) of the bastion on which to create this session.
	// +kubebuilder:validation:Optional
	BastionID *string `json:"bastionId,omitempty" tf:"bastion_id,omitempty"`

	// (Updatable) The name of the session.
	// +kubebuilder:validation:Optional
	DisplayName *string `json:"displayName,omitempty" tf:"display_name,omitempty"`

	// Public key details for a bastion session.
	// +kubebuilder:validation:Optional
	KeyDetails []KeyDetailsParameters `json:"keyDetails,omitempty" tf:"key_details,omitempty"`

	// The type of the key used to connect to the session. PUB is a standard public key in OpenSSH format.
	// +kubebuilder:validation:Optional
	KeyType *string `json:"keyType,omitempty" tf:"key_type,omitempty"`

	// The amount of time the session can remain active.
	// +kubebuilder:validation:Optional
	SessionTTLInSeconds *float64 `json:"sessionTtlInSeconds,omitempty" tf:"session_ttl_in_seconds,omitempty"`

	// Details about a bastion session's target resource.
	// +kubebuilder:validation:Optional
	TargetResourceDetails []TargetResourceDetailsParameters `json:"targetResourceDetails,omitempty" tf:"target_resource_details,omitempty"`
}

type TargetResourceDetailsInitParameters struct {

	// The session type.
	SessionType *string `json:"sessionType,omitempty" tf:"session_type,omitempty"`

	// (Applicable when session_type=PORT_FORWARDING) The Fully Qualified Domain Name of the target resource that the session connects to.
	TargetResourceFqdn *string `json:"targetResourceFqdn,omitempty" tf:"target_resource_fqdn,omitempty"`

	// The unique identifier (OCID) of the target resource (a Compute instance, for example) that the session connects to.
	TargetResourceID *string `json:"targetResourceId,omitempty" tf:"target_resource_id,omitempty"`

	// The name of the user on the target resource operating system that the session uses for the connection.
	TargetResourceOperatingSystemUserName *string `json:"targetResourceOperatingSystemUserName,omitempty" tf:"target_resource_operating_system_user_name,omitempty"`

	// (Applicable when session_type=MANAGED_SSH | PORT_FORWARDING) The port number to connect to on the target resource.
	TargetResourcePort *float64 `json:"targetResourcePort,omitempty" tf:"target_resource_port,omitempty"`

	// (Applicable when session_type=MANAGED_SSH | PORT_FORWARDING) The private IP address of the target resource that the session connects to.
	TargetResourcePrivateIPAddress *string `json:"targetResourcePrivateIpAddress,omitempty" tf:"target_resource_private_ip_address,omitempty"`
}

type TargetResourceDetailsObservation struct {

	// The session type.
	SessionType *string `json:"sessionType,omitempty" tf:"session_type,omitempty"`

	// The display name of the target Compute instance that the session connects to.
	TargetResourceDisplayName *string `json:"targetResourceDisplayName,omitempty" tf:"target_resource_display_name,omitempty"`

	// (Applicable when session_type=PORT_FORWARDING) The Fully Qualified Domain Name of the target resource that the session connects to.
	TargetResourceFqdn *string `json:"targetResourceFqdn,omitempty" tf:"target_resource_fqdn,omitempty"`

	// The unique identifier (OCID) of the target resource (a Compute instance, for example) that the session connects to.
	TargetResourceID *string `json:"targetResourceId,omitempty" tf:"target_resource_id,omitempty"`

	// The name of the user on the target resource operating system that the session uses for the connection.
	TargetResourceOperatingSystemUserName *string `json:"targetResourceOperatingSystemUserName,omitempty" tf:"target_resource_operating_system_user_name,omitempty"`

	// (Applicable when session_type=MANAGED_SSH | PORT_FORWARDING) The port number to connect to on the target resource.
	TargetResourcePort *float64 `json:"targetResourcePort,omitempty" tf:"target_resource_port,omitempty"`

	// (Applicable when session_type=MANAGED_SSH | PORT_FORWARDING) The private IP address of the target resource that the session connects to.
	TargetResourcePrivateIPAddress *string `json:"targetResourcePrivateIpAddress,omitempty" tf:"target_resource_private_ip_address,omitempty"`
}

type TargetResourceDetailsParameters struct {

	// The session type.
	// +kubebuilder:validation:Optional
	SessionType *string `json:"sessionType" tf:"session_type,omitempty"`

	// (Applicable when session_type=PORT_FORWARDING) The Fully Qualified Domain Name of the target resource that the session connects to.
	// +kubebuilder:validation:Optional
	TargetResourceFqdn *string `json:"targetResourceFqdn,omitempty" tf:"target_resource_fqdn,omitempty"`

	// The unique identifier (OCID) of the target resource (a Compute instance, for example) that the session connects to.
	// +kubebuilder:validation:Optional
	TargetResourceID *string `json:"targetResourceId,omitempty" tf:"target_resource_id,omitempty"`

	// The name of the user on the target resource operating system that the session uses for the connection.
	// +kubebuilder:validation:Optional
	TargetResourceOperatingSystemUserName *string `json:"targetResourceOperatingSystemUserName,omitempty" tf:"target_resource_operating_system_user_name,omitempty"`

	// (Applicable when session_type=MANAGED_SSH | PORT_FORWARDING) The port number to connect to on the target resource.
	// +kubebuilder:validation:Optional
	TargetResourcePort *float64 `json:"targetResourcePort,omitempty" tf:"target_resource_port,omitempty"`

	// (Applicable when session_type=MANAGED_SSH | PORT_FORWARDING) The private IP address of the target resource that the session connects to.
	// +kubebuilder:validation:Optional
	TargetResourcePrivateIPAddress *string `json:"targetResourcePrivateIpAddress,omitempty" tf:"target_resource_private_ip_address,omitempty"`
}

// SessionSpec defines the desired state of Session
type SessionSpec struct {
	v1.ResourceSpec `json:",inline"`
	ForProvider     SessionParameters `json:"forProvider"`
	// THIS IS A BETA FIELD. It will be honored
	// unless the Management Policies feature flag is disabled.
	// InitProvider holds the same fields as ForProvider, with the exception
	// of Identifier and other resource reference fields. The fields that are
	// in InitProvider are merged into ForProvider when the resource is created.
	// The same fields are also added to the terraform ignore_changes hook, to
	// avoid updating them after creation. This is useful for fields that are
	// required on creation, but we do not desire to update them after creation,
	// for example because of an external controller is managing them, like an
	// autoscaler.
	InitProvider SessionInitParameters `json:"initProvider,omitempty"`
}

// SessionStatus defines the observed state of Session.
type SessionStatus struct {
	v1.ResourceStatus `json:",inline"`
	AtProvider        SessionObservation `json:"atProvider,omitempty"`
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:storageversion

// Session is the Schema for the Sessions API. Provides the Session resource in Oracle Cloud Infrastructure Bastion service
// +kubebuilder:printcolumn:name="SYNCED",type="string",JSONPath=".status.conditions[?(@.type=='Synced')].status"
// +kubebuilder:printcolumn:name="READY",type="string",JSONPath=".status.conditions[?(@.type=='Ready')].status"
// +kubebuilder:printcolumn:name="EXTERNAL-NAME",type="string",JSONPath=".metadata.annotations.crossplane\\.io/external-name"
// +kubebuilder:printcolumn:name="AGE",type="date",JSONPath=".metadata.creationTimestamp"
// +kubebuilder:resource:scope=Cluster,categories={crossplane,managed,oci}
type Session struct {
	metav1.TypeMeta   `json:",inline"`
	metav1.ObjectMeta `json:"metadata,omitempty"`
	// +kubebuilder:validation:XValidation:rule="!('*' in self.managementPolicies || 'Create' in self.managementPolicies || 'Update' in self.managementPolicies) || has(self.forProvider.bastionId) || (has(self.initProvider) && has(self.initProvider.bastionId))",message="spec.forProvider.bastionId is a required parameter"
	// +kubebuilder:validation:XValidation:rule="!('*' in self.managementPolicies || 'Create' in self.managementPolicies || 'Update' in self.managementPolicies) || has(self.forProvider.keyDetails) || (has(self.initProvider) && has(self.initProvider.keyDetails))",message="spec.forProvider.keyDetails is a required parameter"
	// +kubebuilder:validation:XValidation:rule="!('*' in self.managementPolicies || 'Create' in self.managementPolicies || 'Update' in self.managementPolicies) || has(self.forProvider.targetResourceDetails) || (has(self.initProvider) && has(self.initProvider.targetResourceDetails))",message="spec.forProvider.targetResourceDetails is a required parameter"
	Spec   SessionSpec   `json:"spec"`
	Status SessionStatus `json:"status,omitempty"`
}

// +kubebuilder:object:root=true

// SessionList contains a list of Sessions
type SessionList struct {
	metav1.TypeMeta `json:",inline"`
	metav1.ListMeta `json:"metadata,omitempty"`
	Items           []Session `json:"items"`
}

// Repository type metadata.
var (
	Session_Kind             = "Session"
	Session_GroupKind        = schema.GroupKind{Group: CRDGroup, Kind: Session_Kind}.String()
	Session_KindAPIVersion   = Session_Kind + "." + CRDGroupVersion.String()
	Session_GroupVersionKind = CRDGroupVersion.WithKind(Session_Kind)
)

func init() {
	SchemeBuilder.Register(&Session{}, &SessionList{})
}
