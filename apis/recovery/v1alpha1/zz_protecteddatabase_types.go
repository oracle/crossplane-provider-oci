/*
Copyright 2022 Upbound Inc.
*/

// Code generated by upjet. DO NOT EDIT.

package v1alpha1

import (
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
	"k8s.io/apimachinery/pkg/runtime/schema"

	v1 "github.com/crossplane/crossplane-runtime/apis/common/v1"
)

type MetricsInitParameters struct {
}

type MetricsObservation struct {

	// The estimated backup storage space, in gigabytes, required to meet the recovery window goal, including foot print and backups for the protected database.
	BackupSpaceEstimateInGbs *float64 `json:"backupSpaceEstimateInGbs,omitempty" tf:"backup_space_estimate_in_gbs,omitempty"`

	// Backup storage space, in gigabytes, utilized by the protected database. Oracle charges for the total storage used.
	BackupSpaceUsedInGbs *float64 `json:"backupSpaceUsedInGbs,omitempty" tf:"backup_space_used_in_gbs,omitempty"`

	// Number of seconds backups are currently retained for this database.
	CurrentRetentionPeriodInSeconds *float64 `json:"currentRetentionPeriodInSeconds,omitempty" tf:"current_retention_period_in_seconds,omitempty"`

	// The estimated space, in gigabytes, consumed by the protected database. The database size is based on the size of the data files in the catalog, and does not include archive logs.
	DBSizeInGbs *float64 `json:"dbSizeInGbs,omitempty" tf:"db_size_in_gbs,omitempty"`

	// The value TRUE indicates that the protected database is configured to use Real-time data protection, and redo-data is sent from the protected database to Recovery Service. Real-time data protection substantially reduces the window of potential data loss that exists between successive archived redo log backups.
	IsRedoLogsEnabled *bool `json:"isRedoLogsEnabled,omitempty" tf:"is_redo_logs_enabled,omitempty"`

	// Number of days of redo/archive to be applied to recover database.
	MinimumRecoveryNeededInDays *float64 `json:"minimumRecoveryNeededInDays,omitempty" tf:"minimum_recovery_needed_in_days,omitempty"`

	// The maximum number of days to retain backups for a protected database.
	RetentionPeriodInDays *float64 `json:"retentionPeriodInDays,omitempty" tf:"retention_period_in_days,omitempty"`

	// This is the time window when there is data loss exposure. The point after which recovery is impossible unless additional redo is available.  This is the time we received the last backup or last redo-log shipped.
	UnprotectedWindowInSeconds *float64 `json:"unprotectedWindowInSeconds,omitempty" tf:"unprotected_window_in_seconds,omitempty"`
}

type MetricsParameters struct {
}

type ProtectedDatabaseInitParameters struct {

	// (Updatable) The OCID of the compartment that contains the protected database.
	CompartmentID *string `json:"compartmentId,omitempty" tf:"compartment_id,omitempty"`

	// The dbUniqueName of the protected database in Recovery Service. You cannot change the unique name.
	DBUniqueName *string `json:"dbUniqueName,omitempty" tf:"db_unique_name,omitempty"`

	// The OCID of the protected database.
	DatabaseID *string `json:"databaseId,omitempty" tf:"database_id,omitempty"`

	// (Updatable) The size of the protected database. XS - Less than 5GB, S - 5GB to 50GB, M - 50GB to 500GB, L - 500GB to 1TB, XL - 1TB to 5TB, XXL - Greater than 5TB.
	DatabaseSize *string `json:"databaseSize,omitempty" tf:"database_size,omitempty"`

	// (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. Example: {"foo-namespace.bar-key": "value"}. For more information, see Resource Tags
	// +mapType=granular
	DefinedTags map[string]*string `json:"definedTags,omitempty" tf:"defined_tags,omitempty"`

	// (Updatable) Defines a preferred schedule to delete a protected database after you terminate the source database.
	DeletionSchedule *string `json:"deletionSchedule,omitempty" tf:"deletion_schedule,omitempty"`

	// (Updatable) The protected database name. You can change the displayName. Avoid entering confidential information.
	DisplayName *string `json:"displayName,omitempty" tf:"display_name,omitempty"`

	// (Updatable) Simple key-value pair that is applied without any predefined name, type or scope. Exists for cross-compatibility only. Example: {"bar-key": "value"}
	// +mapType=granular
	FreeformTags map[string]*string `json:"freeformTags,omitempty" tf:"freeform_tags,omitempty"`

	// (Updatable) The value TRUE indicates that the protected database is configured to use Real-time data protection, and redo-data is sent from the protected database to Recovery Service. Real-time data protection substantially reduces the window of potential data loss that exists between successive archived redo log backups.
	IsRedoLogsShipped *bool `json:"isRedoLogsShipped,omitempty" tf:"is_redo_logs_shipped,omitempty"`

	// (Updatable) Password credential which can be used to connect to Protected Database. It must contain at least 2 uppercase, 2 lowercase, 2 numeric and 2 special characters. The special characters must be underscore (_), number sign (https://docs.cloud.oracle.com/iaas/api/#) or hyphen (-). The password must not contain the username "admin", regardless of casing.
	PasswordSecretRef v1.SecretKeySelector `json:"passwordSecretRef" tf:"-"`

	// (Updatable) The OCID of the protection policy associated with the protected database.
	ProtectionPolicyID *string `json:"protectionPolicyId,omitempty" tf:"protection_policy_id,omitempty"`

	// (Updatable) List of recovery service subnet resources associated with the protected database.
	RecoveryServiceSubnets []RecoveryServiceSubnetsInitParameters `json:"recoveryServiceSubnets,omitempty" tf:"recovery_service_subnets,omitempty"`

	// (Updatable) The OCID of the cloud service subscription to which you want to link the protected database.  For example, specify the Microsoft Azure subscription ID if you want to provision the protected database in Azure.
	SubscriptionID *string `json:"subscriptionId,omitempty" tf:"subscription_id,omitempty"`
}

type ProtectedDatabaseObservation struct {

	// (Updatable) The OCID of the compartment that contains the protected database.
	CompartmentID *string `json:"compartmentId,omitempty" tf:"compartment_id,omitempty"`

	// The dbUniqueName of the protected database in Recovery Service. You cannot change the unique name.
	DBUniqueName *string `json:"dbUniqueName,omitempty" tf:"db_unique_name,omitempty"`

	// The OCID of the protected database.
	DatabaseID *string `json:"databaseId,omitempty" tf:"database_id,omitempty"`

	// (Updatable) The size of the protected database. XS - Less than 5GB, S - 5GB to 50GB, M - 50GB to 500GB, L - 500GB to 1TB, XL - 1TB to 5TB, XXL - Greater than 5TB.
	DatabaseSize *string `json:"databaseSize,omitempty" tf:"database_size,omitempty"`

	// (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. Example: {"foo-namespace.bar-key": "value"}. For more information, see Resource Tags
	// +mapType=granular
	DefinedTags map[string]*string `json:"definedTags,omitempty" tf:"defined_tags,omitempty"`

	// (Updatable) Defines a preferred schedule to delete a protected database after you terminate the source database.
	DeletionSchedule *string `json:"deletionSchedule,omitempty" tf:"deletion_schedule,omitempty"`

	// (Updatable) The protected database name. You can change the displayName. Avoid entering confidential information.
	DisplayName *string `json:"displayName,omitempty" tf:"display_name,omitempty"`

	// (Updatable) Simple key-value pair that is applied without any predefined name, type or scope. Exists for cross-compatibility only. Example: {"bar-key": "value"}
	// +mapType=granular
	FreeformTags map[string]*string `json:"freeformTags,omitempty" tf:"freeform_tags,omitempty"`

	// Indicates the protection status of the database.
	Health *string `json:"health,omitempty" tf:"health,omitempty"`

	// A message describing the current health of the protected database.
	HealthDetails *string `json:"healthDetails,omitempty" tf:"health_details,omitempty"`

	// The OCID of the protected database.
	ID *string `json:"id,omitempty" tf:"id,omitempty"`

	// Indicates whether the protected database is created by Recovery Service or created manually. Set to TRUE for a service-defined protected database. When you enable the OCI-managed automatic backups option for a database and set Recovery Service as the backup destination, then Recovery Service creates the associated protected database resource. Set to FALSE for a user-defined protected database.
	IsReadOnlyResource *bool `json:"isReadOnlyResource,omitempty" tf:"is_read_only_resource,omitempty"`

	// (Updatable) The value TRUE indicates that the protected database is configured to use Real-time data protection, and redo-data is sent from the protected database to Recovery Service. Real-time data protection substantially reduces the window of potential data loss that exists between successive archived redo log backups.
	IsRedoLogsShipped *bool `json:"isRedoLogsShipped,omitempty" tf:"is_redo_logs_shipped,omitempty"`

	// Detailed description about the current lifecycle state of the protected database. For example, it can be used to provide actionable information for a resource in a Failed state.
	LifecycleDetails *string `json:"lifecycleDetails,omitempty" tf:"lifecycle_details,omitempty"`

	// Backup performance and storage utilization metrics for the protected database.
	Metrics []MetricsObservation `json:"metrics,omitempty" tf:"metrics,omitempty"`

	// An RFC3339 formatted datetime string that specifies the exact date and time for the retention lock to take effect and permanently lock the retention period defined in the policy.
	PolicyLockedDateTime *string `json:"policyLockedDateTime,omitempty" tf:"policy_locked_date_time,omitempty"`

	// (Updatable) The OCID of the protection policy associated with the protected database.
	ProtectionPolicyID *string `json:"protectionPolicyId,omitempty" tf:"protection_policy_id,omitempty"`

	// (Updatable) List of recovery service subnet resources associated with the protected database.
	RecoveryServiceSubnets []RecoveryServiceSubnetsObservation `json:"recoveryServiceSubnets,omitempty" tf:"recovery_service_subnets,omitempty"`

	// The current state of the Recovery Service Subnet.
	State *string `json:"state,omitempty" tf:"state,omitempty"`

	// (Updatable) The OCID of the cloud service subscription to which you want to link the protected database.  For example, specify the Microsoft Azure subscription ID if you want to provision the protected database in Azure.
	SubscriptionID *string `json:"subscriptionId,omitempty" tf:"subscription_id,omitempty"`

	// Usage of system tag keys. These predefined keys are scoped to namespaces. Example: {"orcl-cloud.free-tier-retained": "true"}. For more information, see Resource Tags
	// +mapType=granular
	SystemTags map[string]*string `json:"systemTags,omitempty" tf:"system_tags,omitempty"`

	// An RFC3339 formatted datetime string that indicates the created time for a protected database. For example: '2020-05-22T21:10:29.600Z'
	TimeCreated *string `json:"timeCreated,omitempty" tf:"time_created,omitempty"`

	// An RFC3339 formatted datetime string that indicates the last updated time for a protected database. For example: '2020-05-22T21:10:29.600Z'
	TimeUpdated *string `json:"timeUpdated,omitempty" tf:"time_updated,omitempty"`

	// The virtual private catalog (VPC) user credentials that authenticates the protected database to access Recovery Service.
	VPCUserName *string `json:"vpcUserName,omitempty" tf:"vpc_user_name,omitempty"`
}

type ProtectedDatabaseParameters struct {

	// (Updatable) The OCID of the compartment that contains the protected database.
	// +kubebuilder:validation:Optional
	CompartmentID *string `json:"compartmentId,omitempty" tf:"compartment_id,omitempty"`

	// The dbUniqueName of the protected database in Recovery Service. You cannot change the unique name.
	// +kubebuilder:validation:Optional
	DBUniqueName *string `json:"dbUniqueName,omitempty" tf:"db_unique_name,omitempty"`

	// The OCID of the protected database.
	// +kubebuilder:validation:Optional
	DatabaseID *string `json:"databaseId,omitempty" tf:"database_id,omitempty"`

	// (Updatable) The size of the protected database. XS - Less than 5GB, S - 5GB to 50GB, M - 50GB to 500GB, L - 500GB to 1TB, XL - 1TB to 5TB, XXL - Greater than 5TB.
	// +kubebuilder:validation:Optional
	DatabaseSize *string `json:"databaseSize,omitempty" tf:"database_size,omitempty"`

	// (Updatable) Defined tags for this resource. Each key is predefined and scoped to a namespace. Example: {"foo-namespace.bar-key": "value"}. For more information, see Resource Tags
	// +kubebuilder:validation:Optional
	// +mapType=granular
	DefinedTags map[string]*string `json:"definedTags,omitempty" tf:"defined_tags,omitempty"`

	// (Updatable) Defines a preferred schedule to delete a protected database after you terminate the source database.
	// +kubebuilder:validation:Optional
	DeletionSchedule *string `json:"deletionSchedule,omitempty" tf:"deletion_schedule,omitempty"`

	// (Updatable) The protected database name. You can change the displayName. Avoid entering confidential information.
	// +kubebuilder:validation:Optional
	DisplayName *string `json:"displayName,omitempty" tf:"display_name,omitempty"`

	// (Updatable) Simple key-value pair that is applied without any predefined name, type or scope. Exists for cross-compatibility only. Example: {"bar-key": "value"}
	// +kubebuilder:validation:Optional
	// +mapType=granular
	FreeformTags map[string]*string `json:"freeformTags,omitempty" tf:"freeform_tags,omitempty"`

	// (Updatable) The value TRUE indicates that the protected database is configured to use Real-time data protection, and redo-data is sent from the protected database to Recovery Service. Real-time data protection substantially reduces the window of potential data loss that exists between successive archived redo log backups.
	// +kubebuilder:validation:Optional
	IsRedoLogsShipped *bool `json:"isRedoLogsShipped,omitempty" tf:"is_redo_logs_shipped,omitempty"`

	// (Updatable) Password credential which can be used to connect to Protected Database. It must contain at least 2 uppercase, 2 lowercase, 2 numeric and 2 special characters. The special characters must be underscore (_), number sign (https://docs.cloud.oracle.com/iaas/api/#) or hyphen (-). The password must not contain the username "admin", regardless of casing.
	// +kubebuilder:validation:Optional
	PasswordSecretRef v1.SecretKeySelector `json:"passwordSecretRef" tf:"-"`

	// (Updatable) The OCID of the protection policy associated with the protected database.
	// +kubebuilder:validation:Optional
	ProtectionPolicyID *string `json:"protectionPolicyId,omitempty" tf:"protection_policy_id,omitempty"`

	// (Updatable) List of recovery service subnet resources associated with the protected database.
	// +kubebuilder:validation:Optional
	RecoveryServiceSubnets []RecoveryServiceSubnetsParameters `json:"recoveryServiceSubnets,omitempty" tf:"recovery_service_subnets,omitempty"`

	// (Updatable) The OCID of the cloud service subscription to which you want to link the protected database.  For example, specify the Microsoft Azure subscription ID if you want to provision the protected database in Azure.
	// +kubebuilder:validation:Optional
	SubscriptionID *string `json:"subscriptionId,omitempty" tf:"subscription_id,omitempty"`
}

type RecoveryServiceSubnetsInitParameters struct {

	// (Updatable) The recovery service subnet OCID.
	RecoveryServiceSubnetID *string `json:"recoveryServiceSubnetId,omitempty" tf:"recovery_service_subnet_id,omitempty"`
}

type RecoveryServiceSubnetsObservation struct {

	// (Updatable) The recovery service subnet OCID.
	RecoveryServiceSubnetID *string `json:"recoveryServiceSubnetId,omitempty" tf:"recovery_service_subnet_id,omitempty"`

	// The current state of the Recovery Service Subnet.
	State *string `json:"state,omitempty" tf:"state,omitempty"`
}

type RecoveryServiceSubnetsParameters struct {

	// (Updatable) The recovery service subnet OCID.
	// +kubebuilder:validation:Optional
	RecoveryServiceSubnetID *string `json:"recoveryServiceSubnetId" tf:"recovery_service_subnet_id,omitempty"`
}

// ProtectedDatabaseSpec defines the desired state of ProtectedDatabase
type ProtectedDatabaseSpec struct {
	v1.ResourceSpec `json:",inline"`
	ForProvider     ProtectedDatabaseParameters `json:"forProvider"`
	// THIS IS A BETA FIELD. It will be honored
	// unless the Management Policies feature flag is disabled.
	// InitProvider holds the same fields as ForProvider, with the exception
	// of Identifier and other resource reference fields. The fields that are
	// in InitProvider are merged into ForProvider when the resource is created.
	// The same fields are also added to the terraform ignore_changes hook, to
	// avoid updating them after creation. This is useful for fields that are
	// required on creation, but we do not desire to update them after creation,
	// for example because of an external controller is managing them, like an
	// autoscaler.
	InitProvider ProtectedDatabaseInitParameters `json:"initProvider,omitempty"`
}

// ProtectedDatabaseStatus defines the observed state of ProtectedDatabase.
type ProtectedDatabaseStatus struct {
	v1.ResourceStatus `json:",inline"`
	AtProvider        ProtectedDatabaseObservation `json:"atProvider,omitempty"`
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:storageversion

// ProtectedDatabase is the Schema for the ProtectedDatabases API. Provides the Protected Database resource in Oracle Cloud Infrastructure Recovery service
// +kubebuilder:printcolumn:name="SYNCED",type="string",JSONPath=".status.conditions[?(@.type=='Synced')].status"
// +kubebuilder:printcolumn:name="READY",type="string",JSONPath=".status.conditions[?(@.type=='Ready')].status"
// +kubebuilder:printcolumn:name="EXTERNAL-NAME",type="string",JSONPath=".metadata.annotations.crossplane\\.io/external-name"
// +kubebuilder:printcolumn:name="AGE",type="date",JSONPath=".metadata.creationTimestamp"
// +kubebuilder:resource:scope=Cluster,categories={crossplane,managed,oci}
type ProtectedDatabase struct {
	metav1.TypeMeta   `json:",inline"`
	metav1.ObjectMeta `json:"metadata,omitempty"`
	// +kubebuilder:validation:XValidation:rule="!('*' in self.managementPolicies || 'Create' in self.managementPolicies || 'Update' in self.managementPolicies) || has(self.forProvider.compartmentId) || (has(self.initProvider) && has(self.initProvider.compartmentId))",message="spec.forProvider.compartmentId is a required parameter"
	// +kubebuilder:validation:XValidation:rule="!('*' in self.managementPolicies || 'Create' in self.managementPolicies || 'Update' in self.managementPolicies) || has(self.forProvider.dbUniqueName) || (has(self.initProvider) && has(self.initProvider.dbUniqueName))",message="spec.forProvider.dbUniqueName is a required parameter"
	// +kubebuilder:validation:XValidation:rule="!('*' in self.managementPolicies || 'Create' in self.managementPolicies || 'Update' in self.managementPolicies) || has(self.forProvider.displayName) || (has(self.initProvider) && has(self.initProvider.displayName))",message="spec.forProvider.displayName is a required parameter"
	// +kubebuilder:validation:XValidation:rule="!('*' in self.managementPolicies || 'Create' in self.managementPolicies || 'Update' in self.managementPolicies) || has(self.forProvider.passwordSecretRef)",message="spec.forProvider.passwordSecretRef is a required parameter"
	// +kubebuilder:validation:XValidation:rule="!('*' in self.managementPolicies || 'Create' in self.managementPolicies || 'Update' in self.managementPolicies) || has(self.forProvider.protectionPolicyId) || (has(self.initProvider) && has(self.initProvider.protectionPolicyId))",message="spec.forProvider.protectionPolicyId is a required parameter"
	// +kubebuilder:validation:XValidation:rule="!('*' in self.managementPolicies || 'Create' in self.managementPolicies || 'Update' in self.managementPolicies) || has(self.forProvider.recoveryServiceSubnets) || (has(self.initProvider) && has(self.initProvider.recoveryServiceSubnets))",message="spec.forProvider.recoveryServiceSubnets is a required parameter"
	Spec   ProtectedDatabaseSpec   `json:"spec"`
	Status ProtectedDatabaseStatus `json:"status,omitempty"`
}

// +kubebuilder:object:root=true

// ProtectedDatabaseList contains a list of ProtectedDatabases
type ProtectedDatabaseList struct {
	metav1.TypeMeta `json:",inline"`
	metav1.ListMeta `json:"metadata,omitempty"`
	Items           []ProtectedDatabase `json:"items"`
}

// Repository type metadata.
var (
	ProtectedDatabase_Kind             = "ProtectedDatabase"
	ProtectedDatabase_GroupKind        = schema.GroupKind{Group: CRDGroup, Kind: ProtectedDatabase_Kind}.String()
	ProtectedDatabase_KindAPIVersion   = ProtectedDatabase_Kind + "." + CRDGroupVersion.String()
	ProtectedDatabase_GroupVersionKind = CRDGroupVersion.WithKind(ProtectedDatabase_Kind)
)

func init() {
	SchemeBuilder.Register(&ProtectedDatabase{}, &ProtectedDatabaseList{})
}
