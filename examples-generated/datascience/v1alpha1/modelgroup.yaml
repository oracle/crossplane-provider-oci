apiVersion: datascience.oci.upbound.io/v1alpha1
kind: ModelGroup
metadata:
  annotations:
    meta.upbound.io/example-id: datascience/v1alpha1/modelgroup
  labels:
    testing.upbound.io/example-name: test_model_group
  name: test-model-group
spec:
  forProvider:
    compartmentId: ${var.compartment_id}
    createType: ${var.model_group_create_type}
    definedTags:
      Operations.CostCenter: "42"
    description: ${var.model_group_description}
    displayName: ${var.model_group_display_name}
    freeformTags:
      Department: Finance
    memberModelEntries:
    - memberModelDetails:
      - inferenceKey: ${var.model_group_member_model_entries_member_model_details_inference_key}
        modelId: ${oci_datascience_model.test_model.id}
    modelGroupCloneSourceDetails:
    - modelGroupCloneSourceType: ${var.model_group_model_group_clone_source_details_model_group_clone_source_type}
      modifyModelGroupDetails:
      - definedTags: ${var.model_group_model_group_clone_source_details_modify_model_group_details_defined_tags}
        description: ${var.model_group_model_group_clone_source_details_modify_model_group_details_description}
        displayName: ${var.model_group_model_group_clone_source_details_modify_model_group_details_display_name}
        freeformTags: ${var.model_group_model_group_clone_source_details_modify_model_group_details_freeform_tags}
        modelGroupDetails:
        - baseModelId: ${oci_datascience_model.test_model.id}
          customMetadataList:
          - category: ${var.model_group_model_group_clone_source_details_modify_model_group_details_model_group_details_custom_metadata_list_category}
            description: ${var.model_group_model_group_clone_source_details_modify_model_group_details_model_group_details_custom_metadata_list_description}
            key: ${var.model_group_model_group_clone_source_details_modify_model_group_details_model_group_details_custom_metadata_list_key}
            value: ${var.model_group_model_group_clone_source_details_modify_model_group_details_model_group_details_custom_metadata_list_value}
          type: ${var.model_group_model_group_clone_source_details_modify_model_group_details_model_group_details_type}
        modelGroupVersionHistoryId: ${oci_datascience_model_group_version_history.test_model_group_version_history.id}
        versionLabel: ${var.model_group_model_group_clone_source_details_modify_model_group_details_version_label}
      patchModelGroupMemberModelDetails:
      - items:
        - operation: ${var.model_group_model_group_clone_source_details_patch_model_group_member_model_details_items_operation}
          values:
          - inferenceKey: ${var.model_group_model_group_clone_source_details_patch_model_group_member_model_details_items_values_inference_key}
            modelId: ${oci_datascience_model.test_model.id}
      sourceId: ${oci_datascience_source.test_source.id}
    modelGroupDetails:
    - baseModelId: ${oci_datascience_model.test_model.id}
      customMetadataList:
      - category: ${var.model_group_model_group_details_custom_metadata_list_category}
        description: ${var.model_group_model_group_details_custom_metadata_list_description}
        key: ${var.model_group_model_group_details_custom_metadata_list_key}
        value: ${var.model_group_model_group_details_custom_metadata_list_value}
      type: ${var.model_group_model_group_details_type}
    modelGroupVersionHistoryId: ${oci_datascience_model_group_version_history.test_model_group_version_history.id}
    projectId: ${oci_datascience_project.test_project.id}
    versionLabel: ${var.model_group_version_label}
