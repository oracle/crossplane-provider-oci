apiVersion: database.oci.upbound.io/v1alpha1
kind: VmClusterNetwork
metadata:
  annotations:
    meta.upbound.io/example-id: database/v1alpha1/vmclusternetwork
  labels:
    testing.upbound.io/example-name: test_vm_cluster_network
  name: test-vm-cluster-network
spec:
  forProvider:
    compartmentId: ${var.compartment_id}
    definedTags: ${var.vm_cluster_network_defined_tags}
    displayName: ${var.vm_cluster_network_display_name}
    dns: ${var.vm_cluster_network_dns}
    drScans:
    - hostname: ${var.vm_cluster_network_dr_scans_hostname}
      ips: ${var.vm_cluster_network_dr_scans_ips}
      scanListenerPortTcp: ${var.vm_cluster_network_dr_scans_scan_listener_port_tcp}
    exadataInfrastructureId: ${oci_database_exadata_infrastructure.test_exadata_infrastructure.id}
    freeformTags:
      Department: Finance
    ntp: ${var.vm_cluster_network_ntp}
    scans:
    - hostname: ${var.vm_cluster_network_scans_hostname}
      ips: ${var.vm_cluster_network_scans_ips}
      port: ${var.vm_cluster_network_scans_port}
      scanListenerPortTcp: ${var.vm_cluster_network_scans_scan_listener_port_tcp}
      scanListenerPortTcpSsl: ${var.vm_cluster_network_scans_scan_listener_port_tcp_ssl}
    validateVmClusterNetwork: ${var.vm_cluster_network_validate_vm_cluster_network}
    vmNetworks:
    - domainName: ${oci_identity_domain.test_domain.name}
      gateway: ${var.vm_cluster_network_vm_networks_gateway}
      netmask: ${var.vm_cluster_network_vm_networks_netmask}
      networkType: ${var.vm_cluster_network_vm_networks_network_type}
      nodes:
      - dbServerId: ${oci_database_db_server.test_db_server.id}
        hostname: ${var.vm_cluster_network_vm_networks_nodes_hostname}
        ip: ${var.vm_cluster_network_vm_networks_nodes_ip}
        state: ${var.vm_cluster_network_vm_networks_nodes_state}
        vip: ${var.vm_cluster_network_vm_networks_nodes_vip}
        vipHostname: ${var.vm_cluster_network_vm_networks_nodes_vip_hostname}
      vlanId: ${var.vm_cluster_network_vm_networks_vlan_id}
