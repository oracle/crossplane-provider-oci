apiVersion: database.oci.upbound.io/v1alpha1
kind: VmCluster
metadata:
  annotations:
    meta.upbound.io/example-id: database/v1alpha1/vmcluster
  labels:
    testing.upbound.io/example-name: test_vm_cluster
  name: test-vm-cluster
spec:
  forProvider:
    cloudAutomationUpdateDetails:
    - applyUpdateTimePreference:
      - applyUpdatePreferredEndTime: ${var.vm_cluster_cloud_automation_update_details_apply_update_time_preference_apply_update_preferred_end_time}
        applyUpdatePreferredStartTime: ${var.vm_cluster_cloud_automation_update_details_apply_update_time_preference_apply_update_preferred_start_time}
      freezePeriod:
      - freezePeriodEndTime: ${var.vm_cluster_cloud_automation_update_details_freeze_period_freeze_period_end_time}
        freezePeriodStartTime: ${var.vm_cluster_cloud_automation_update_details_freeze_period_freeze_period_start_time}
      isEarlyAdoptionEnabled: ${var.vm_cluster_cloud_automation_update_details_is_early_adoption_enabled}
      isFreezePeriodEnabled: ${var.vm_cluster_cloud_automation_update_details_is_freeze_period_enabled}
    compartmentId: ${var.compartment_id}
    cpuCoreCount: ${var.vm_cluster_cpu_core_count}
    dataCollectionOptions:
    - isDiagnosticsEventsEnabled: ${var.vm_cluster_data_collection_options_is_diagnostics_events_enabled}
      isHealthMonitoringEnabled: ${var.vm_cluster_data_collection_options_is_health_monitoring_enabled}
      isIncidentLogsEnabled: ${var.vm_cluster_data_collection_options_is_incident_logs_enabled}
    dataStorageSizeInTbs: ${var.vm_cluster_data_storage_size_in_tbs}
    dbNodeStorageSizeInGbs: ${var.vm_cluster_db_node_storage_size_in_gbs}
    dbServers: ${var.vm_cluster_db_servers}
    definedTags: ${var.vm_cluster_defined_tags}
    displayName: ${var.vm_cluster_display_name}
    exadataInfrastructureId: ${oci_database_exadata_infrastructure.test_exadata_infrastructure.id}
    exascaleDbStorageVaultId: ${oci_database_exascale_db_storage_vault.test_exascale_db_storage_vault.id}
    fileSystemConfigurationDetails:
    - fileSystemSizeGb: ${var.vm_cluster_file_system_configuration_details_file_system_size_gb}
      mountPoint: ${var.vm_cluster_file_system_configuration_details_mount_point}
    freeformTags:
      Department: Finance
    giVersion: ${var.vm_cluster_gi_version}
    isLocalBackupEnabled: ${var.vm_cluster_is_local_backup_enabled}
    isSparseDiskgroupEnabled: ${var.vm_cluster_is_sparse_diskgroup_enabled}
    licenseModel: ${var.vm_cluster_license_model}
    memorySizeInGbs: ${var.vm_cluster_memory_size_in_gbs}
    sshPublicKeys: ${var.vm_cluster_ssh_public_keys}
    systemVersion: ${var.vm_cluster_system_version}
    timeZone: ${var.vm_cluster_time_zone}
    vmClusterNetworkId: ${oci_database_vm_cluster_network.test_vm_cluster_network.id}
    vmClusterType: ${var.vm_cluster_vm_cluster_type}
