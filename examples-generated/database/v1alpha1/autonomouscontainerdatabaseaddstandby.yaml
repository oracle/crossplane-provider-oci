apiVersion: database.oci.upbound.io/v1alpha1
kind: AutonomousContainerDatabaseAddStandby
metadata:
  annotations:
    meta.upbound.io/example-id: database/v1alpha1/autonomouscontainerdatabaseaddstandby
  labels:
    testing.upbound.io/example-name: test_autonomous_container_database_add_standby
  name: test-autonomous-container-database-add-standby
spec:
  forProvider:
    autonomousContainerDatabaseId: ${oci_database_autonomous_container_database.test_autonomous_container_database.id}
    fastStartFailOverLagLimitInSeconds: ${var.autonomous_container_database_add_standby_fast_start_fail_over_lag_limit_in_seconds}
    isAutomaticFailoverEnabled: ${var.autonomous_container_database_add_standby_is_automatic_failover_enabled}
    peerAutonomousContainerDatabaseBackupConfig:
    - backupDestinationDetails:
      - dbrsPolicyId: ${oci_identity_policy.test_policy.id}
        id: ${var.autonomous_container_database_add_standby_peer_autonomous_container_database_backup_config_backup_destination_details_id}
        internetProxy: ${var.autonomous_container_database_add_standby_peer_autonomous_container_database_backup_config_backup_destination_details_internet_proxy}
        type: ${var.autonomous_container_database_add_standby_peer_autonomous_container_database_backup_config_backup_destination_details_type}
        vpcPasswordSecretRef:
          key: example-key
          name: example-secret
          namespace: upbound-system
        vpcUser: ${var.autonomous_container_database_add_standby_peer_autonomous_container_database_backup_config_backup_destination_details_vpc_user}
      recoveryWindowInDays: ${var.autonomous_container_database_add_standby_peer_autonomous_container_database_backup_config_recovery_window_in_days}
    peerAutonomousContainerDatabaseCompartmentId: ${oci_identity_compartment.test_compartment.id}
    peerAutonomousContainerDatabaseDisplayName: ${var.autonomous_container_database_add_standby_peer_autonomous_container_database_display_name}
    peerAutonomousVmClusterId: ${oci_database_autonomous_vm_cluster.test_autonomous_vm_cluster.id}
    peerCloudAutonomousVmClusterId: ${oci_database_cloud_autonomous_vm_cluster.test_cloud_autonomous_vm_cluster.id}
    peerDbUniqueName: ${var.autonomous_container_database_add_standby_peer_db_unique_name}
    protectionMode: ${var.autonomous_container_database_add_standby_protection_mode}
    standbyMaintenanceBufferInDays: ${var.autonomous_container_database_add_standby_standby_maintenance_buffer_in_days}
