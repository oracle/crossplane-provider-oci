apiVersion: ocvs.oci.upbound.io/v1alpha1
kind: OcvsCluster
metadata:
  annotations:
    meta.upbound.io/example-id: ocvs/v1alpha1/ocvscluster
  labels:
    testing.upbound.io/example-name: test_cluster
  name: test-cluster
spec:
  forProvider:
    capacityReservationId: ${oci_ocvp_capacity_reservation.test_capacity_reservation.id}
    computeAvailabilityDomain: ${var.cluster_compute_availability_domain}
    datastores:
    - blockVolumeIds: ${var.cluster_datastores_block_volume_ids}
      datastoreType: ${var.cluster_datastores_datastore_type}
    definedTags:
      Operations.CostCenter: "42"
    displayName: ${var.cluster_display_name}
    esxiHostsCount: ${var.cluster_esxi_hosts_count}
    esxiSoftwareVersion: ${var.cluster_esxi_software_version}
    freeformTags:
      Department: Finance
    initialCommitment: ${var.cluster_initial_commitment}
    initialHostOcpuCount: ${var.cluster_initial_host_ocpu_count}
    initialHostShapeName: ${oci_core_shape.test_shape.name}
    instanceDisplayNamePrefix: ${var.cluster_instance_display_name_prefix}
    isShieldedInstanceEnabled: ${var.cluster_is_shielded_instance_enabled}
    networkConfiguration:
    - hcxVlanId: ${oci_core_vlan.test_vlan.id}
      nsxEdgeUplink1VlanId: ${oci_ocvp_nsx_edge_uplink1vlan.test_nsx_edge_uplink1vlan.id}
      nsxEdgeUplink2VlanId: ${oci_ocvp_nsx_edge_uplink2vlan.test_nsx_edge_uplink2vlan.id}
      nsxEdgeVtepVlanId: ${oci_core_vlan.test_vlan.id}
      nsxVtepVlanId: ${oci_core_vlan.test_vlan.id}
      provisioningSubnetId: ${oci_core_subnet.test_subnet.id}
      provisioningVlanId: ${oci_core_vlan.test_vlan.id}
      replicationVlanId: ${oci_core_vlan.test_vlan.id}
      vmotionVlanId: ${oci_core_vlan.test_vlan.id}
      vsanVlanId: ${oci_core_vlan.test_vlan.id}
      vsphereVlanId: ${oci_core_vlan.test_vlan.id}
    sddcId: ${oci_ocvp_sddc.test_sddc.id}
    vmwareSoftwareVersion: ${var.cluster_vmware_software_version}
    workloadNetworkCidr: ${var.cluster_workload_network_cidr}
