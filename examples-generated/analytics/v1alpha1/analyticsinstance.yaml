apiVersion: analytics.oci.upbound.io/v1alpha1
kind: AnalyticsInstance
metadata:
  annotations:
    meta.upbound.io/example-id: analytics/v1alpha1/analyticsinstance
  labels:
    testing.upbound.io/example-name: test_analytics_instance
  name: test-analytics-instance
spec:
  forProvider:
    adminUser: ${var.analytics_instance_admin_user}
    capacity:
    - capacityType: ${var.analytics_instance_capacity_capacity_type}
      capacityValue: ${var.analytics_instance_capacity_capacity_value}
    compartmentId: ${var.compartment_id}
    definedTags:
      Operations.CostCenter: "42"
    description: ${var.analytics_instance_description}
    domainId: ${oci_identity_domain.test_domain.id}
    emailNotification: ${var.analytics_instance_email_notification}
    featureBundle: ${var.analytics_instance_feature_bundle}
    featureSet: ${var.analytics_instance_feature_set}
    freeformTags:
      Department: Finance
    idcsAccessTokenSecretRef:
      key: example-key
      name: example-secret
      namespace: upbound-system
    kmsKeyId: ${oci_kms_key.test_key.id}
    licenseType: ${var.analytics_instance_license_type}
    networkEndpointDetails:
    - networkEndpointType: ${var.analytics_instance_network_endpoint_details_network_endpoint_type}
      networkSecurityGroupIds: ${var.analytics_instance_network_endpoint_details_network_security_group_ids}
      subnetId: ${oci_core_subnet.test_subnet.id}
      vcnId: ${oci_core_vcn.test_vcn.id}
      whitelistedIps: ${var.analytics_instance_network_endpoint_details_whitelisted_ips}
      whitelistedServices: ${var.analytics_instance_network_endpoint_details_whitelisted_services}
      whitelistedVcns:
      - id: ${var.analytics_instance_network_endpoint_details_whitelisted_vcns_id}
        whitelistedIps: ${var.analytics_instance_network_endpoint_details_whitelisted_vcns_whitelisted_ips}
    updateChannel: ${var.analytics_instance_update_channel}
