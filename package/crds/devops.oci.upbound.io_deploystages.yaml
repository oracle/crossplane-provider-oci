---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.18.0
  name: deploystages.devops.oci.upbound.io
spec:
  group: devops.oci.upbound.io
  names:
    categories:
    - crossplane
    - managed
    - oci
    kind: DeployStage
    listKind: DeployStageList
    plural: deploystages
    singular: deploystage
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.conditions[?(@.type=='Synced')].status
      name: SYNCED
      type: string
    - jsonPath: .status.conditions[?(@.type=='Ready')].status
      name: READY
      type: string
    - jsonPath: .metadata.annotations.crossplane\.io/external-name
      name: EXTERNAL-NAME
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: AGE
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: DeployStage is the Schema for the DeployStages API. Provides
          the Deploy Stage resource in Oracle Cloud Infrastructure Devops service
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: DeployStageSpec defines the desired state of DeployStage
            properties:
              deletionPolicy:
                default: Delete
                description: |-
                  DeletionPolicy specifies what will happen to the underlying external
                  when this managed resource is deleted - either "Delete" or "Orphan" the
                  external resource.
                  This field is planned to be deprecated in favor of the ManagementPolicies
                  field in a future release. Currently, both could be set independently and
                  non-default values would be honored if the feature flag is enabled.
                  See the design doc for more information: https://github.com/crossplane/crossplane/blob/499895a25d1a1a0ba1604944ef98ac7a1a71f197/design/design-doc-observe-only-resources.md?plain=1#L223
                enum:
                - Orphan
                - Delete
                type: string
              forProvider:
                properties:
                  approvalPolicy:
                    description: (Updatable) Specifies the approval policy.
                    items:
                      properties:
                        approvalPolicyType:
                          description: (Updatable) Approval policy type.
                          type: string
                        numberOfApprovalsRequired:
                          description: (Updatable) A minimum number of approvals required
                            for stage to proceed.
                          type: number
                      type: object
                    type: array
                  areHooksEnabled:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Disable pre/post upgrade hooks. Set to false by
                      default.
                    type: boolean
                  blueBackendIps:
                    description: (Updatable) Collection of backend environment IP
                      addresses.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            type: string
                          type: array
                      type: object
                    type: array
                  blueGreenStrategy:
                    description: Specifies the required blue green release strategy
                      for OKE deployment.
                    items:
                      properties:
                        ingressName:
                          description: Name of the Ingress resource.
                          type: string
                        namespaceA:
                          description: First Namespace for deployment.
                          type: string
                        namespaceB:
                          description: Second Namespace for deployment.
                          type: string
                        strategyType:
                          description: Blue Green strategy type
                          type: string
                      type: object
                    type: array
                  canaryStrategy:
                    description: Specifies the required canary release strategy for
                      OKE deployment.
                    items:
                      properties:
                        ingressName:
                          description: Name of the Ingress resource.
                          type: string
                        namespace:
                          description: Canary namespace to be used for Kubernetes
                            canary deployment.
                          type: string
                        strategyType:
                          description: Blue Green strategy type
                          type: string
                      type: object
                    type: array
                  commandSpecDeployArtifactId:
                    description: (Updatable) The OCID of the artifact that contains
                      the command specification.
                    type: string
                  computeInstanceGroupBlueGreenDeploymentDeployStageId:
                    description: The OCID of the upstream compute instance group blue-green
                      deployment stage in this pipeline.
                    type: string
                  computeInstanceGroupCanaryDeployStageId:
                    description: A compute instance group canary stage OCID for load
                      balancer.
                    type: string
                  computeInstanceGroupCanaryTrafficShiftDeployStageId:
                    description: (Updatable) A compute instance group canary traffic
                      shift stage OCID for load balancer.
                    type: string
                  computeInstanceGroupDeployEnvironmentId:
                    description: (Updatable) A compute instance group environment
                      OCID for rolling deployment.
                    type: string
                  config:
                    additionalProperties:
                      type: string
                    description: (Applicable when deploy_stage_type=DEPLOY_FUNCTION)
                      (Updatable) User provided key and value pair configuration,
                      which is assigned through constants or parameter.
                    type: object
                    x-kubernetes-map-type: granular
                  containerConfig:
                    description: (Updatable) Specifies the container configuration.
                    items:
                      properties:
                        availabilityDomain:
                          description: (Updatable) Availability domain where the ContainerInstance
                            will be created.
                          type: string
                        compartmentId:
                          description: (Updatable) The OCID of the compartment where
                            the ContainerInstance will be created.
                          type: string
                        containerConfigType:
                          description: (Updatable) Container configuration type.
                          type: string
                        networkChannel:
                          description: (Updatable) Specifies the configuration needed
                            when the target Oracle Cloud Infrastructure resource,
                            i.e., OKE cluster, resides in customer's private network.
                          items:
                            properties:
                              networkChannelType:
                                description: (Updatable) Network channel type.
                                type: string
                              nsgIds:
                                description: (Updatable) An array of network security
                                  group OCIDs.
                                items:
                                  type: string
                                type: array
                              subnetId:
                                description: (Updatable) The OCID of the subnet where
                                  VNIC resources will be created for private endpoint.
                                type: string
                            type: object
                          type: array
                        shapeConfig:
                          description: (Updatable) Determines the size and amount
                            of resources available to the instance.
                          items:
                            properties:
                              memoryInGbs:
                                description: (Updatable) The total amount of memory
                                  available to the instance, in gigabytes.
                                type: number
                              ocpus:
                                description: (Updatable) The total number of OCPUs
                                  available to the instance.
                                type: number
                            type: object
                          type: array
                        shapeName:
                          description: (Updatable) The shape of the ContainerInstance.
                            The shape determines the resources available to the ContainerInstance.
                          type: string
                      type: object
                    type: array
                  definedTags:
                    additionalProperties:
                      type: string
                    description: '(Updatable) Defined tags for this resource. Each
                      key is predefined and scoped to a namespace. See Resource Tags.
                      Example: {"foo-namespace.bar-key": "value"}'
                    type: object
                    x-kubernetes-map-type: granular
                  deployArtifactId:
                    description: (Applicable when deploy_stage_type=INVOKE_FUNCTION)
                      (Updatable) Optional artifact OCID. The artifact will be included
                      in the body for the function invocation during the stage's execution.
                      If the DeployArtifact.argumentSubstituitionMode is set to SUBSTITUTE_PLACEHOLDERS,
                      then the pipeline parameter values will be used to replace the
                      placeholders in the artifact content.
                    type: string
                  deployArtifactIds:
                    description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_BLUE_GREEN_DEPLOYMENT
                      | COMPUTE_INSTANCE_GROUP_CANARY_DEPLOYMENT | COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT)
                      (Updatable) The list of file artifact OCIDs to deploy.
                    items:
                      type: string
                    type: array
                  deployEnvironmentIdA:
                    description: First compute instance group environment OCID for
                      deployment.
                    type: string
                  deployEnvironmentIdB:
                    description: Second compute instance group environment OCID for
                      deployment.
                    type: string
                  deployPipelineId:
                    description: The OCID of a pipeline.
                    type: string
                  deployStagePredecessorCollection:
                    description: (Updatable) Collection containing the predecessors
                      of a stage.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            properties:
                              id:
                                description: (Updatable) The OCID of the predecessor
                                  stage. If a stage is the first stage in the pipeline,
                                  then the ID is the pipeline's OCID.
                                type: string
                            type: object
                          type: array
                      type: object
                    type: array
                  deployStageType:
                    description: (Updatable) Deployment stage type.
                    type: string
                  deploymentSpecDeployArtifactId:
                    description: (Updatable) The OCID of the artifact that contains
                      the deployment specification.
                    type: string
                  description:
                    description: (Updatable) Optional description about the deployment
                      stage.
                    type: string
                  displayName:
                    description: (Updatable) Deployment stage display name, which
                      can be renamed and is not necessarily unique. Avoid entering
                      confidential information.
                    type: string
                  dockerImageDeployArtifactId:
                    description: (Updatable) A Docker image artifact OCID.
                    type: string
                  failurePolicy:
                    description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_BLUE_GREEN_DEPLOYMENT
                      | COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT) (Updatable) Specifies
                      a failure policy for a compute instance group rolling deployment
                      stage.
                    items:
                      properties:
                        failureCount:
                          description: (Updatable) The threshold count of failed instances
                            in the group, which when reached or exceeded sets the
                            stage as FAILED.
                          type: number
                        failurePercentage:
                          description: (Updatable) The failure percentage threshold,
                            which when reached or exceeded sets the stage as FAILED.
                            Percentage is computed as the ceiling value of the number
                            of failed instances over the total count of the instances
                            in the group.
                          type: number
                        policyType:
                          description: (Updatable) Specifies if the failure instance
                            size is given by absolute number or by percentage.
                          type: string
                      type: object
                    type: array
                  freeformTags:
                    additionalProperties:
                      type: string
                    description: '(Updatable) Simple key-value pair that is applied
                      without any predefined name, type or scope. Exists for cross-compatibility
                      only.  See Resource Tags. Example: {"bar-key": "value"}'
                    type: object
                    x-kubernetes-map-type: granular
                  functionDeployEnvironmentId:
                    description: (Updatable) Function environment OCID.
                    type: string
                  functionTimeoutInSeconds:
                    description: (Applicable when deploy_stage_type=DEPLOY_FUNCTION)
                      (Updatable) Timeout for execution of the Function. Value in
                      seconds.
                    type: number
                  greenBackendIps:
                    description: (Updatable) Collection of backend environment IP
                      addresses.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            type: string
                          type: array
                      type: object
                    type: array
                  helmChartDeployArtifactId:
                    description: (Updatable) Helm chart artifact OCID.
                    type: string
                  helmCommandArtifactIds:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) List of Helm command artifact OCIDs.
                    items:
                      type: string
                    type: array
                  isAsync:
                    description: (Updatable) A boolean flag specifies whether this
                      stage executes asynchronously.
                    type: boolean
                  isDebugEnabled:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Enables helm --debug option to stream output to
                      tf stdout. Set to false by default.
                    type: boolean
                  isForceEnabled:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Force resource update through delete; or if required,
                      recreate. Set to false by default.
                    type: boolean
                  isUninstallOnStageDelete:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Uninstall the Helm chart release on deleting the
                      stage.
                    type: boolean
                  isValidationEnabled:
                    description: (Updatable) A boolean flag specifies whether the
                      invoked function should be validated.
                    type: boolean
                  kubernetesManifestDeployArtifactIds:
                    description: (Updatable) List of Kubernetes manifest artifact
                      OCIDs.
                    items:
                      type: string
                    type: array
                  loadBalancerConfig:
                    description: (Updatable) Specifies config for load balancer traffic
                      shift stages. The Load Balancer specified here should be an
                      Application Load Balancer type. Network Load Balancers are not
                      supported.
                    items:
                      properties:
                        backendPort:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT
                            | LOAD_BALANCER_TRAFFIC_SHIFT) (Updatable) Listen port
                            for the backend server.
                          type: number
                        listenerName:
                          description: (Updatable) Name of the load balancer listener.
                          type: string
                        loadBalancerId:
                          description: (Updatable) The OCID of the load balancer.
                          type: string
                      type: object
                    type: array
                  maxHistory:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Limit the maximum number of revisions saved per
                      release. Use 0 for no limit. Set to 10 by default
                    type: number
                  maxMemoryInMbs:
                    description: (Applicable when deploy_stage_type=DEPLOY_FUNCTION)
                      (Updatable) Maximum usable memory for the Function (in MB).
                    type: string
                  namespace:
                    description: Canary namespace to be used for Kubernetes canary
                      deployment.
                    type: string
                  okeBlueGreenDeployStageId:
                    description: The OCID of the upstream OKE blue-green deployment
                      stage in this pipeline.
                    type: string
                  okeCanaryDeployStageId:
                    description: The OCID of an upstream OKE canary deployment stage
                      in this pipeline.
                    type: string
                  okeCanaryTrafficShiftDeployStageId:
                    description: The OCID of an upstream OKE canary deployment traffic
                      shift stage in this pipeline.
                    type: string
                  okeClusterDeployEnvironmentId:
                    description: (Updatable) Kubernetes cluster environment OCID for
                      deployment.
                    type: string
                  productionLoadBalancerConfig:
                    description: Specifies configuration for load balancer traffic
                      shift stages. The load balancer specified here should be an
                      Application load balancer type. Network load balancers are not
                      supported.
                    items:
                      properties:
                        backendPort:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT
                            | LOAD_BALANCER_TRAFFIC_SHIFT) (Updatable) Listen port
                            for the backend server.
                          type: number
                        listenerName:
                          description: (Updatable) Name of the load balancer listener.
                          type: string
                        loadBalancerId:
                          description: (Updatable) The OCID of the load balancer.
                          type: string
                      type: object
                    type: array
                  purpose:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) The purpose of running this Helm stage
                    type: string
                  releaseName:
                    description: (Updatable) Default name of the chart instance. Must
                      be unique within a Kubernetes namespace.
                    type: string
                  rollbackPolicy:
                    description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT
                      | LOAD_BALANCER_TRAFFIC_SHIFT | OKE_DEPLOYMENT | OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Specifies the rollback policy. This is initiated
                      on the failure of certain stage types.
                    items:
                      properties:
                        policyType:
                          description: (Updatable) Specifies if the failure instance
                            size is given by absolute number or by percentage.
                          type: string
                      type: object
                    type: array
                  rolloutPolicy:
                    description: (Updatable) Description of rollout policy for load
                      balancer traffic shift stage.
                    items:
                      properties:
                        batchCount:
                          description: (Updatable) The number that will be used to
                            determine how many instances will be deployed concurrently.
                          type: number
                        batchDelayInSeconds:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_BLUE_GREEN_DEPLOYMENT
                            | COMPUTE_INSTANCE_GROUP_CANARY_DEPLOYMENT | COMPUTE_INSTANCE_GROUP_CANARY_TRAFFIC_SHIFT
                            | COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT | LOAD_BALANCER_TRAFFIC_SHIFT
                            | OKE_CANARY_TRAFFIC_SHIFT) (Updatable) The duration of
                            delay between batch rollout. The default delay is 1 minute.
                          type: number
                        batchPercentage:
                          description: (Updatable) The percentage that will be used
                            to determine how many instances will be deployed concurrently.
                          type: number
                        policyType:
                          description: (Updatable) Specifies if the failure instance
                            size is given by absolute number or by percentage.
                          type: string
                        rampLimitPercent:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_CANARY_TRAFFIC_SHIFT
                            | LOAD_BALANCER_TRAFFIC_SHIFT | OKE_CANARY_TRAFFIC_SHIFT)
                            (Updatable) Indicates the criteria to stop.
                          type: number
                      type: object
                    type: array
                  setString:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Specifies the name and value pairs to set helm values.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            properties:
                              name:
                                description: (Updatable) Name of the parameter (case-sensitive).
                                type: string
                              value:
                                description: (Updatable) Value of the parameter.
                                type: string
                            type: object
                          type: array
                      type: object
                    type: array
                  setValues:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Specifies the name and value pairs to set helm values.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            properties:
                              name:
                                description: (Updatable) Name of the parameter (case-sensitive).
                                type: string
                              value:
                                description: (Updatable) Value of the parameter.
                                type: string
                            type: object
                          type: array
                      type: object
                    type: array
                  shouldCleanupOnFail:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Allow deletion of new resources created during when
                      an upgrade fails. Set to false by default.
                    type: boolean
                  shouldNotWait:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Does not wait until all the resources are in a ready
                      state to mark the release as successful if set to true. Set
                      to false by default.
                    type: boolean
                  shouldResetValues:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) During upgrade, reset the values to the ones built
                      into the chart. It overrides shouldReuseValues. Set to false
                      by default.
                    type: boolean
                  shouldReuseValues:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) During upgrade, reuse the values of the last release
                      and merge overrides from the command line. Set to false by default.
                    type: boolean
                  shouldSkipCrds:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) If set, no CRDs are installed. By default, CRDs
                      are installed only if they are not present already. Set to false
                      by default.
                    type: boolean
                  shouldSkipRenderSubchartNotes:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) If set, renders subchart notes along with the parent.
                      Set to false by default.
                    type: boolean
                  testLoadBalancerConfig:
                    description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_BLUE_GREEN_DEPLOYMENT
                      | COMPUTE_INSTANCE_GROUP_CANARY_DEPLOYMENT) (Updatable) Specifies
                      configuration for load balancer traffic shift stages. The load
                      balancer specified here should be an Application load balancer
                      type. Network load balancers are not supported.
                    items:
                      properties:
                        backendPort:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT
                            | LOAD_BALANCER_TRAFFIC_SHIFT) (Updatable) Listen port
                            for the backend server.
                          type: number
                        listenerName:
                          description: (Updatable) Name of the load balancer listener.
                          type: string
                        loadBalancerId:
                          description: (Updatable) The OCID of the load balancer.
                          type: string
                      type: object
                    type: array
                  timeoutInSeconds:
                    description: (Applicable when deploy_stage_type=SHELL | OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Time to wait for execution of a Shell/Helm stage.
                      Defaults to 36000 seconds for Shell and 300 seconds for Helm
                      Stage
                    type: number
                  trafficShiftTarget:
                    description: (Updatable) Specifies the target or destination backend
                      set.
                    type: string
                  valuesArtifactIds:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) List of values.yaml file artifact OCIDs.
                    items:
                      type: string
                    type: array
                  waitCriteria:
                    description: (Updatable) Specifies wait criteria for the Wait
                      stage.
                    items:
                      properties:
                        waitDuration:
                          description: (Updatable) The absolute wait duration. An
                            ISO 8601 formatted duration string. Minimum waitDuration
                            should be 5 seconds. Maximum waitDuration can be up to
                            2 days.
                          type: string
                        waitType:
                          description: (Updatable) Wait criteria type.
                          type: string
                      type: object
                    type: array
                type: object
              initProvider:
                description: |-
                  THIS IS A BETA FIELD. It will be honored
                  unless the Management Policies feature flag is disabled.
                  InitProvider holds the same fields as ForProvider, with the exception
                  of Identifier and other resource reference fields. The fields that are
                  in InitProvider are merged into ForProvider when the resource is created.
                  The same fields are also added to the terraform ignore_changes hook, to
                  avoid updating them after creation. This is useful for fields that are
                  required on creation, but we do not desire to update them after creation,
                  for example because of an external controller is managing them, like an
                  autoscaler.
                properties:
                  approvalPolicy:
                    description: (Updatable) Specifies the approval policy.
                    items:
                      properties:
                        approvalPolicyType:
                          description: (Updatable) Approval policy type.
                          type: string
                        numberOfApprovalsRequired:
                          description: (Updatable) A minimum number of approvals required
                            for stage to proceed.
                          type: number
                      type: object
                    type: array
                  areHooksEnabled:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Disable pre/post upgrade hooks. Set to false by
                      default.
                    type: boolean
                  blueBackendIps:
                    description: (Updatable) Collection of backend environment IP
                      addresses.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            type: string
                          type: array
                      type: object
                    type: array
                  blueGreenStrategy:
                    description: Specifies the required blue green release strategy
                      for OKE deployment.
                    items:
                      properties:
                        ingressName:
                          description: Name of the Ingress resource.
                          type: string
                        namespaceA:
                          description: First Namespace for deployment.
                          type: string
                        namespaceB:
                          description: Second Namespace for deployment.
                          type: string
                        strategyType:
                          description: Blue Green strategy type
                          type: string
                      type: object
                    type: array
                  canaryStrategy:
                    description: Specifies the required canary release strategy for
                      OKE deployment.
                    items:
                      properties:
                        ingressName:
                          description: Name of the Ingress resource.
                          type: string
                        namespace:
                          description: Canary namespace to be used for Kubernetes
                            canary deployment.
                          type: string
                        strategyType:
                          description: Blue Green strategy type
                          type: string
                      type: object
                    type: array
                  commandSpecDeployArtifactId:
                    description: (Updatable) The OCID of the artifact that contains
                      the command specification.
                    type: string
                  computeInstanceGroupBlueGreenDeploymentDeployStageId:
                    description: The OCID of the upstream compute instance group blue-green
                      deployment stage in this pipeline.
                    type: string
                  computeInstanceGroupCanaryDeployStageId:
                    description: A compute instance group canary stage OCID for load
                      balancer.
                    type: string
                  computeInstanceGroupCanaryTrafficShiftDeployStageId:
                    description: (Updatable) A compute instance group canary traffic
                      shift stage OCID for load balancer.
                    type: string
                  computeInstanceGroupDeployEnvironmentId:
                    description: (Updatable) A compute instance group environment
                      OCID for rolling deployment.
                    type: string
                  config:
                    additionalProperties:
                      type: string
                    description: (Applicable when deploy_stage_type=DEPLOY_FUNCTION)
                      (Updatable) User provided key and value pair configuration,
                      which is assigned through constants or parameter.
                    type: object
                    x-kubernetes-map-type: granular
                  containerConfig:
                    description: (Updatable) Specifies the container configuration.
                    items:
                      properties:
                        availabilityDomain:
                          description: (Updatable) Availability domain where the ContainerInstance
                            will be created.
                          type: string
                        compartmentId:
                          description: (Updatable) The OCID of the compartment where
                            the ContainerInstance will be created.
                          type: string
                        containerConfigType:
                          description: (Updatable) Container configuration type.
                          type: string
                        networkChannel:
                          description: (Updatable) Specifies the configuration needed
                            when the target Oracle Cloud Infrastructure resource,
                            i.e., OKE cluster, resides in customer's private network.
                          items:
                            properties:
                              networkChannelType:
                                description: (Updatable) Network channel type.
                                type: string
                              nsgIds:
                                description: (Updatable) An array of network security
                                  group OCIDs.
                                items:
                                  type: string
                                type: array
                              subnetId:
                                description: (Updatable) The OCID of the subnet where
                                  VNIC resources will be created for private endpoint.
                                type: string
                            type: object
                          type: array
                        shapeConfig:
                          description: (Updatable) Determines the size and amount
                            of resources available to the instance.
                          items:
                            properties:
                              memoryInGbs:
                                description: (Updatable) The total amount of memory
                                  available to the instance, in gigabytes.
                                type: number
                              ocpus:
                                description: (Updatable) The total number of OCPUs
                                  available to the instance.
                                type: number
                            type: object
                          type: array
                        shapeName:
                          description: (Updatable) The shape of the ContainerInstance.
                            The shape determines the resources available to the ContainerInstance.
                          type: string
                      type: object
                    type: array
                  definedTags:
                    additionalProperties:
                      type: string
                    description: '(Updatable) Defined tags for this resource. Each
                      key is predefined and scoped to a namespace. See Resource Tags.
                      Example: {"foo-namespace.bar-key": "value"}'
                    type: object
                    x-kubernetes-map-type: granular
                  deployArtifactId:
                    description: (Applicable when deploy_stage_type=INVOKE_FUNCTION)
                      (Updatable) Optional artifact OCID. The artifact will be included
                      in the body for the function invocation during the stage's execution.
                      If the DeployArtifact.argumentSubstituitionMode is set to SUBSTITUTE_PLACEHOLDERS,
                      then the pipeline parameter values will be used to replace the
                      placeholders in the artifact content.
                    type: string
                  deployArtifactIds:
                    description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_BLUE_GREEN_DEPLOYMENT
                      | COMPUTE_INSTANCE_GROUP_CANARY_DEPLOYMENT | COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT)
                      (Updatable) The list of file artifact OCIDs to deploy.
                    items:
                      type: string
                    type: array
                  deployEnvironmentIdA:
                    description: First compute instance group environment OCID for
                      deployment.
                    type: string
                  deployEnvironmentIdB:
                    description: Second compute instance group environment OCID for
                      deployment.
                    type: string
                  deployPipelineId:
                    description: The OCID of a pipeline.
                    type: string
                  deployStagePredecessorCollection:
                    description: (Updatable) Collection containing the predecessors
                      of a stage.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            properties:
                              id:
                                description: (Updatable) The OCID of the predecessor
                                  stage. If a stage is the first stage in the pipeline,
                                  then the ID is the pipeline's OCID.
                                type: string
                            type: object
                          type: array
                      type: object
                    type: array
                  deployStageType:
                    description: (Updatable) Deployment stage type.
                    type: string
                  deploymentSpecDeployArtifactId:
                    description: (Updatable) The OCID of the artifact that contains
                      the deployment specification.
                    type: string
                  description:
                    description: (Updatable) Optional description about the deployment
                      stage.
                    type: string
                  displayName:
                    description: (Updatable) Deployment stage display name, which
                      can be renamed and is not necessarily unique. Avoid entering
                      confidential information.
                    type: string
                  dockerImageDeployArtifactId:
                    description: (Updatable) A Docker image artifact OCID.
                    type: string
                  failurePolicy:
                    description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_BLUE_GREEN_DEPLOYMENT
                      | COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT) (Updatable) Specifies
                      a failure policy for a compute instance group rolling deployment
                      stage.
                    items:
                      properties:
                        failureCount:
                          description: (Updatable) The threshold count of failed instances
                            in the group, which when reached or exceeded sets the
                            stage as FAILED.
                          type: number
                        failurePercentage:
                          description: (Updatable) The failure percentage threshold,
                            which when reached or exceeded sets the stage as FAILED.
                            Percentage is computed as the ceiling value of the number
                            of failed instances over the total count of the instances
                            in the group.
                          type: number
                        policyType:
                          description: (Updatable) Specifies if the failure instance
                            size is given by absolute number or by percentage.
                          type: string
                      type: object
                    type: array
                  freeformTags:
                    additionalProperties:
                      type: string
                    description: '(Updatable) Simple key-value pair that is applied
                      without any predefined name, type or scope. Exists for cross-compatibility
                      only.  See Resource Tags. Example: {"bar-key": "value"}'
                    type: object
                    x-kubernetes-map-type: granular
                  functionDeployEnvironmentId:
                    description: (Updatable) Function environment OCID.
                    type: string
                  functionTimeoutInSeconds:
                    description: (Applicable when deploy_stage_type=DEPLOY_FUNCTION)
                      (Updatable) Timeout for execution of the Function. Value in
                      seconds.
                    type: number
                  greenBackendIps:
                    description: (Updatable) Collection of backend environment IP
                      addresses.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            type: string
                          type: array
                      type: object
                    type: array
                  helmChartDeployArtifactId:
                    description: (Updatable) Helm chart artifact OCID.
                    type: string
                  helmCommandArtifactIds:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) List of Helm command artifact OCIDs.
                    items:
                      type: string
                    type: array
                  isAsync:
                    description: (Updatable) A boolean flag specifies whether this
                      stage executes asynchronously.
                    type: boolean
                  isDebugEnabled:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Enables helm --debug option to stream output to
                      tf stdout. Set to false by default.
                    type: boolean
                  isForceEnabled:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Force resource update through delete; or if required,
                      recreate. Set to false by default.
                    type: boolean
                  isUninstallOnStageDelete:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Uninstall the Helm chart release on deleting the
                      stage.
                    type: boolean
                  isValidationEnabled:
                    description: (Updatable) A boolean flag specifies whether the
                      invoked function should be validated.
                    type: boolean
                  kubernetesManifestDeployArtifactIds:
                    description: (Updatable) List of Kubernetes manifest artifact
                      OCIDs.
                    items:
                      type: string
                    type: array
                  loadBalancerConfig:
                    description: (Updatable) Specifies config for load balancer traffic
                      shift stages. The Load Balancer specified here should be an
                      Application Load Balancer type. Network Load Balancers are not
                      supported.
                    items:
                      properties:
                        backendPort:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT
                            | LOAD_BALANCER_TRAFFIC_SHIFT) (Updatable) Listen port
                            for the backend server.
                          type: number
                        listenerName:
                          description: (Updatable) Name of the load balancer listener.
                          type: string
                        loadBalancerId:
                          description: (Updatable) The OCID of the load balancer.
                          type: string
                      type: object
                    type: array
                  maxHistory:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Limit the maximum number of revisions saved per
                      release. Use 0 for no limit. Set to 10 by default
                    type: number
                  maxMemoryInMbs:
                    description: (Applicable when deploy_stage_type=DEPLOY_FUNCTION)
                      (Updatable) Maximum usable memory for the Function (in MB).
                    type: string
                  namespace:
                    description: Canary namespace to be used for Kubernetes canary
                      deployment.
                    type: string
                  okeBlueGreenDeployStageId:
                    description: The OCID of the upstream OKE blue-green deployment
                      stage in this pipeline.
                    type: string
                  okeCanaryDeployStageId:
                    description: The OCID of an upstream OKE canary deployment stage
                      in this pipeline.
                    type: string
                  okeCanaryTrafficShiftDeployStageId:
                    description: The OCID of an upstream OKE canary deployment traffic
                      shift stage in this pipeline.
                    type: string
                  okeClusterDeployEnvironmentId:
                    description: (Updatable) Kubernetes cluster environment OCID for
                      deployment.
                    type: string
                  productionLoadBalancerConfig:
                    description: Specifies configuration for load balancer traffic
                      shift stages. The load balancer specified here should be an
                      Application load balancer type. Network load balancers are not
                      supported.
                    items:
                      properties:
                        backendPort:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT
                            | LOAD_BALANCER_TRAFFIC_SHIFT) (Updatable) Listen port
                            for the backend server.
                          type: number
                        listenerName:
                          description: (Updatable) Name of the load balancer listener.
                          type: string
                        loadBalancerId:
                          description: (Updatable) The OCID of the load balancer.
                          type: string
                      type: object
                    type: array
                  purpose:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) The purpose of running this Helm stage
                    type: string
                  releaseName:
                    description: (Updatable) Default name of the chart instance. Must
                      be unique within a Kubernetes namespace.
                    type: string
                  rollbackPolicy:
                    description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT
                      | LOAD_BALANCER_TRAFFIC_SHIFT | OKE_DEPLOYMENT | OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Specifies the rollback policy. This is initiated
                      on the failure of certain stage types.
                    items:
                      properties:
                        policyType:
                          description: (Updatable) Specifies if the failure instance
                            size is given by absolute number or by percentage.
                          type: string
                      type: object
                    type: array
                  rolloutPolicy:
                    description: (Updatable) Description of rollout policy for load
                      balancer traffic shift stage.
                    items:
                      properties:
                        batchCount:
                          description: (Updatable) The number that will be used to
                            determine how many instances will be deployed concurrently.
                          type: number
                        batchDelayInSeconds:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_BLUE_GREEN_DEPLOYMENT
                            | COMPUTE_INSTANCE_GROUP_CANARY_DEPLOYMENT | COMPUTE_INSTANCE_GROUP_CANARY_TRAFFIC_SHIFT
                            | COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT | LOAD_BALANCER_TRAFFIC_SHIFT
                            | OKE_CANARY_TRAFFIC_SHIFT) (Updatable) The duration of
                            delay between batch rollout. The default delay is 1 minute.
                          type: number
                        batchPercentage:
                          description: (Updatable) The percentage that will be used
                            to determine how many instances will be deployed concurrently.
                          type: number
                        policyType:
                          description: (Updatable) Specifies if the failure instance
                            size is given by absolute number or by percentage.
                          type: string
                        rampLimitPercent:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_CANARY_TRAFFIC_SHIFT
                            | LOAD_BALANCER_TRAFFIC_SHIFT | OKE_CANARY_TRAFFIC_SHIFT)
                            (Updatable) Indicates the criteria to stop.
                          type: number
                      type: object
                    type: array
                  setString:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Specifies the name and value pairs to set helm values.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            properties:
                              name:
                                description: (Updatable) Name of the parameter (case-sensitive).
                                type: string
                              value:
                                description: (Updatable) Value of the parameter.
                                type: string
                            type: object
                          type: array
                      type: object
                    type: array
                  setValues:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Specifies the name and value pairs to set helm values.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            properties:
                              name:
                                description: (Updatable) Name of the parameter (case-sensitive).
                                type: string
                              value:
                                description: (Updatable) Value of the parameter.
                                type: string
                            type: object
                          type: array
                      type: object
                    type: array
                  shouldCleanupOnFail:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Allow deletion of new resources created during when
                      an upgrade fails. Set to false by default.
                    type: boolean
                  shouldNotWait:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Does not wait until all the resources are in a ready
                      state to mark the release as successful if set to true. Set
                      to false by default.
                    type: boolean
                  shouldResetValues:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) During upgrade, reset the values to the ones built
                      into the chart. It overrides shouldReuseValues. Set to false
                      by default.
                    type: boolean
                  shouldReuseValues:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) During upgrade, reuse the values of the last release
                      and merge overrides from the command line. Set to false by default.
                    type: boolean
                  shouldSkipCrds:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) If set, no CRDs are installed. By default, CRDs
                      are installed only if they are not present already. Set to false
                      by default.
                    type: boolean
                  shouldSkipRenderSubchartNotes:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) If set, renders subchart notes along with the parent.
                      Set to false by default.
                    type: boolean
                  testLoadBalancerConfig:
                    description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_BLUE_GREEN_DEPLOYMENT
                      | COMPUTE_INSTANCE_GROUP_CANARY_DEPLOYMENT) (Updatable) Specifies
                      configuration for load balancer traffic shift stages. The load
                      balancer specified here should be an Application load balancer
                      type. Network load balancers are not supported.
                    items:
                      properties:
                        backendPort:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT
                            | LOAD_BALANCER_TRAFFIC_SHIFT) (Updatable) Listen port
                            for the backend server.
                          type: number
                        listenerName:
                          description: (Updatable) Name of the load balancer listener.
                          type: string
                        loadBalancerId:
                          description: (Updatable) The OCID of the load balancer.
                          type: string
                      type: object
                    type: array
                  timeoutInSeconds:
                    description: (Applicable when deploy_stage_type=SHELL | OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Time to wait for execution of a Shell/Helm stage.
                      Defaults to 36000 seconds for Shell and 300 seconds for Helm
                      Stage
                    type: number
                  trafficShiftTarget:
                    description: (Updatable) Specifies the target or destination backend
                      set.
                    type: string
                  valuesArtifactIds:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) List of values.yaml file artifact OCIDs.
                    items:
                      type: string
                    type: array
                  waitCriteria:
                    description: (Updatable) Specifies wait criteria for the Wait
                      stage.
                    items:
                      properties:
                        waitDuration:
                          description: (Updatable) The absolute wait duration. An
                            ISO 8601 formatted duration string. Minimum waitDuration
                            should be 5 seconds. Maximum waitDuration can be up to
                            2 days.
                          type: string
                        waitType:
                          description: (Updatable) Wait criteria type.
                          type: string
                      type: object
                    type: array
                type: object
              managementPolicies:
                default:
                - '*'
                description: |-
                  THIS IS A BETA FIELD. It is on by default but can be opted out
                  through a Crossplane feature flag.
                  ManagementPolicies specify the array of actions Crossplane is allowed to
                  take on the managed and external resources.
                  This field is planned to replace the DeletionPolicy field in a future
                  release. Currently, both could be set independently and non-default
                  values would be honored if the feature flag is enabled. If both are
                  custom, the DeletionPolicy field will be ignored.
                  See the design doc for more information: https://github.com/crossplane/crossplane/blob/499895a25d1a1a0ba1604944ef98ac7a1a71f197/design/design-doc-observe-only-resources.md?plain=1#L223
                  and this one: https://github.com/crossplane/crossplane/blob/444267e84783136daa93568b364a5f01228cacbe/design/one-pager-ignore-changes.md
                items:
                  description: |-
                    A ManagementAction represents an action that the Crossplane controllers
                    can take on an external resource.
                  enum:
                  - Observe
                  - Create
                  - Update
                  - Delete
                  - LateInitialize
                  - '*'
                  type: string
                type: array
              providerConfigRef:
                default:
                  name: default
                description: |-
                  ProviderConfigReference specifies how the provider that will be used to
                  create, observe, update, and delete this managed resource should be
                  configured.
                properties:
                  name:
                    description: Name of the referenced object.
                    type: string
                  policy:
                    description: Policies for referencing.
                    properties:
                      resolution:
                        default: Required
                        description: |-
                          Resolution specifies whether resolution of this reference is required.
                          The default is 'Required', which means the reconcile will fail if the
                          reference cannot be resolved. 'Optional' means this reference will be
                          a no-op if it cannot be resolved.
                        enum:
                        - Required
                        - Optional
                        type: string
                      resolve:
                        description: |-
                          Resolve specifies when this reference should be resolved. The default
                          is 'IfNotPresent', which will attempt to resolve the reference only when
                          the corresponding field is not present. Use 'Always' to resolve the
                          reference on every reconcile.
                        enum:
                        - Always
                        - IfNotPresent
                        type: string
                    type: object
                required:
                - name
                type: object
              publishConnectionDetailsTo:
                description: |-
                  PublishConnectionDetailsTo specifies the connection secret config which
                  contains a name, metadata and a reference to secret store config to
                  which any connection details for this managed resource should be written.
                  Connection details frequently include the endpoint, username,
                  and password required to connect to the managed resource.
                properties:
                  configRef:
                    default:
                      name: default
                    description: |-
                      SecretStoreConfigRef specifies which secret store config should be used
                      for this ConnectionSecret.
                    properties:
                      name:
                        description: Name of the referenced object.
                        type: string
                      policy:
                        description: Policies for referencing.
                        properties:
                          resolution:
                            default: Required
                            description: |-
                              Resolution specifies whether resolution of this reference is required.
                              The default is 'Required', which means the reconcile will fail if the
                              reference cannot be resolved. 'Optional' means this reference will be
                              a no-op if it cannot be resolved.
                            enum:
                            - Required
                            - Optional
                            type: string
                          resolve:
                            description: |-
                              Resolve specifies when this reference should be resolved. The default
                              is 'IfNotPresent', which will attempt to resolve the reference only when
                              the corresponding field is not present. Use 'Always' to resolve the
                              reference on every reconcile.
                            enum:
                            - Always
                            - IfNotPresent
                            type: string
                        type: object
                    required:
                    - name
                    type: object
                  metadata:
                    description: Metadata is the metadata for connection secret.
                    properties:
                      annotations:
                        additionalProperties:
                          type: string
                        description: |-
                          Annotations are the annotations to be added to connection secret.
                          - For Kubernetes secrets, this will be used as "metadata.annotations".
                          - It is up to Secret Store implementation for others store types.
                        type: object
                      labels:
                        additionalProperties:
                          type: string
                        description: |-
                          Labels are the labels/tags to be added to connection secret.
                          - For Kubernetes secrets, this will be used as "metadata.labels".
                          - It is up to Secret Store implementation for others store types.
                        type: object
                      type:
                        description: |-
                          Type is the SecretType for the connection secret.
                          - Only valid for Kubernetes Secret Stores.
                        type: string
                    type: object
                  name:
                    description: Name is the name of the connection secret.
                    type: string
                required:
                - name
                type: object
              writeConnectionSecretToRef:
                description: |-
                  WriteConnectionSecretToReference specifies the namespace and name of a
                  Secret to which any connection details for this managed resource should
                  be written. Connection details frequently include the endpoint, username,
                  and password required to connect to the managed resource.
                  This field is planned to be replaced in a future release in favor of
                  PublishConnectionDetailsTo. Currently, both could be set independently
                  and connection details would be published to both without affecting
                  each other.
                properties:
                  name:
                    description: Name of the secret.
                    type: string
                  namespace:
                    description: Namespace of the secret.
                    type: string
                required:
                - name
                - namespace
                type: object
            required:
            - forProvider
            type: object
            x-kubernetes-validations:
            - message: spec.forProvider.deployPipelineId is a required parameter
              rule: '!(''*'' in self.managementPolicies || ''Create'' in self.managementPolicies
                || ''Update'' in self.managementPolicies) || has(self.forProvider.deployPipelineId)
                || (has(self.initProvider) && has(self.initProvider.deployPipelineId))'
            - message: spec.forProvider.deployStagePredecessorCollection is a required
                parameter
              rule: '!(''*'' in self.managementPolicies || ''Create'' in self.managementPolicies
                || ''Update'' in self.managementPolicies) || has(self.forProvider.deployStagePredecessorCollection)
                || (has(self.initProvider) && has(self.initProvider.deployStagePredecessorCollection))'
            - message: spec.forProvider.deployStageType is a required parameter
              rule: '!(''*'' in self.managementPolicies || ''Create'' in self.managementPolicies
                || ''Update'' in self.managementPolicies) || has(self.forProvider.deployStageType)
                || (has(self.initProvider) && has(self.initProvider.deployStageType))'
          status:
            description: DeployStageStatus defines the observed state of DeployStage.
            properties:
              atProvider:
                properties:
                  approvalPolicy:
                    description: (Updatable) Specifies the approval policy.
                    items:
                      properties:
                        approvalPolicyType:
                          description: (Updatable) Approval policy type.
                          type: string
                        numberOfApprovalsRequired:
                          description: (Updatable) A minimum number of approvals required
                            for stage to proceed.
                          type: number
                      type: object
                    type: array
                  areHooksEnabled:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Disable pre/post upgrade hooks. Set to false by
                      default.
                    type: boolean
                  blueBackendIps:
                    description: (Updatable) Collection of backend environment IP
                      addresses.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            type: string
                          type: array
                      type: object
                    type: array
                  blueGreenStrategy:
                    description: Specifies the required blue green release strategy
                      for OKE deployment.
                    items:
                      properties:
                        ingressName:
                          description: Name of the Ingress resource.
                          type: string
                        namespaceA:
                          description: First Namespace for deployment.
                          type: string
                        namespaceB:
                          description: Second Namespace for deployment.
                          type: string
                        strategyType:
                          description: Blue Green strategy type
                          type: string
                      type: object
                    type: array
                  canaryStrategy:
                    description: Specifies the required canary release strategy for
                      OKE deployment.
                    items:
                      properties:
                        ingressName:
                          description: Name of the Ingress resource.
                          type: string
                        namespace:
                          description: Canary namespace to be used for Kubernetes
                            canary deployment.
                          type: string
                        strategyType:
                          description: Blue Green strategy type
                          type: string
                      type: object
                    type: array
                  commandSpecDeployArtifactId:
                    description: (Updatable) The OCID of the artifact that contains
                      the command specification.
                    type: string
                  compartmentId:
                    description: (Updatable) The OCID of the compartment where the
                      ContainerInstance will be created.
                    type: string
                  computeInstanceGroupBlueGreenDeploymentDeployStageId:
                    description: The OCID of the upstream compute instance group blue-green
                      deployment stage in this pipeline.
                    type: string
                  computeInstanceGroupCanaryDeployStageId:
                    description: A compute instance group canary stage OCID for load
                      balancer.
                    type: string
                  computeInstanceGroupCanaryTrafficShiftDeployStageId:
                    description: (Updatable) A compute instance group canary traffic
                      shift stage OCID for load balancer.
                    type: string
                  computeInstanceGroupDeployEnvironmentId:
                    description: (Updatable) A compute instance group environment
                      OCID for rolling deployment.
                    type: string
                  config:
                    additionalProperties:
                      type: string
                    description: (Applicable when deploy_stage_type=DEPLOY_FUNCTION)
                      (Updatable) User provided key and value pair configuration,
                      which is assigned through constants or parameter.
                    type: object
                    x-kubernetes-map-type: granular
                  containerConfig:
                    description: (Updatable) Specifies the container configuration.
                    items:
                      properties:
                        availabilityDomain:
                          description: (Updatable) Availability domain where the ContainerInstance
                            will be created.
                          type: string
                        compartmentId:
                          description: (Updatable) The OCID of the compartment where
                            the ContainerInstance will be created.
                          type: string
                        containerConfigType:
                          description: (Updatable) Container configuration type.
                          type: string
                        networkChannel:
                          description: (Updatable) Specifies the configuration needed
                            when the target Oracle Cloud Infrastructure resource,
                            i.e., OKE cluster, resides in customer's private network.
                          items:
                            properties:
                              networkChannelType:
                                description: (Updatable) Network channel type.
                                type: string
                              nsgIds:
                                description: (Updatable) An array of network security
                                  group OCIDs.
                                items:
                                  type: string
                                type: array
                              subnetId:
                                description: (Updatable) The OCID of the subnet where
                                  VNIC resources will be created for private endpoint.
                                type: string
                            type: object
                          type: array
                        shapeConfig:
                          description: (Updatable) Determines the size and amount
                            of resources available to the instance.
                          items:
                            properties:
                              memoryInGbs:
                                description: (Updatable) The total amount of memory
                                  available to the instance, in gigabytes.
                                type: number
                              ocpus:
                                description: (Updatable) The total number of OCPUs
                                  available to the instance.
                                type: number
                            type: object
                          type: array
                        shapeName:
                          description: (Updatable) The shape of the ContainerInstance.
                            The shape determines the resources available to the ContainerInstance.
                          type: string
                      type: object
                    type: array
                  definedTags:
                    additionalProperties:
                      type: string
                    description: '(Updatable) Defined tags for this resource. Each
                      key is predefined and scoped to a namespace. See Resource Tags.
                      Example: {"foo-namespace.bar-key": "value"}'
                    type: object
                    x-kubernetes-map-type: granular
                  deployArtifactId:
                    description: (Applicable when deploy_stage_type=INVOKE_FUNCTION)
                      (Updatable) Optional artifact OCID. The artifact will be included
                      in the body for the function invocation during the stage's execution.
                      If the DeployArtifact.argumentSubstituitionMode is set to SUBSTITUTE_PLACEHOLDERS,
                      then the pipeline parameter values will be used to replace the
                      placeholders in the artifact content.
                    type: string
                  deployArtifactIds:
                    description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_BLUE_GREEN_DEPLOYMENT
                      | COMPUTE_INSTANCE_GROUP_CANARY_DEPLOYMENT | COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT)
                      (Updatable) The list of file artifact OCIDs to deploy.
                    items:
                      type: string
                    type: array
                  deployEnvironmentIdA:
                    description: First compute instance group environment OCID for
                      deployment.
                    type: string
                  deployEnvironmentIdB:
                    description: Second compute instance group environment OCID for
                      deployment.
                    type: string
                  deployPipelineId:
                    description: The OCID of a pipeline.
                    type: string
                  deployStagePredecessorCollection:
                    description: (Updatable) Collection containing the predecessors
                      of a stage.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            properties:
                              id:
                                description: (Updatable) The OCID of the predecessor
                                  stage. If a stage is the first stage in the pipeline,
                                  then the ID is the pipeline's OCID.
                                type: string
                            type: object
                          type: array
                      type: object
                    type: array
                  deployStageType:
                    description: (Updatable) Deployment stage type.
                    type: string
                  deploymentSpecDeployArtifactId:
                    description: (Updatable) The OCID of the artifact that contains
                      the deployment specification.
                    type: string
                  description:
                    description: (Updatable) Optional description about the deployment
                      stage.
                    type: string
                  displayName:
                    description: (Updatable) Deployment stage display name, which
                      can be renamed and is not necessarily unique. Avoid entering
                      confidential information.
                    type: string
                  dockerImageDeployArtifactId:
                    description: (Updatable) A Docker image artifact OCID.
                    type: string
                  failurePolicy:
                    description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_BLUE_GREEN_DEPLOYMENT
                      | COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT) (Updatable) Specifies
                      a failure policy for a compute instance group rolling deployment
                      stage.
                    items:
                      properties:
                        failureCount:
                          description: (Updatable) The threshold count of failed instances
                            in the group, which when reached or exceeded sets the
                            stage as FAILED.
                          type: number
                        failurePercentage:
                          description: (Updatable) The failure percentage threshold,
                            which when reached or exceeded sets the stage as FAILED.
                            Percentage is computed as the ceiling value of the number
                            of failed instances over the total count of the instances
                            in the group.
                          type: number
                        policyType:
                          description: (Updatable) Specifies if the failure instance
                            size is given by absolute number or by percentage.
                          type: string
                      type: object
                    type: array
                  freeformTags:
                    additionalProperties:
                      type: string
                    description: '(Updatable) Simple key-value pair that is applied
                      without any predefined name, type or scope. Exists for cross-compatibility
                      only.  See Resource Tags. Example: {"bar-key": "value"}'
                    type: object
                    x-kubernetes-map-type: granular
                  functionDeployEnvironmentId:
                    description: (Updatable) Function environment OCID.
                    type: string
                  functionTimeoutInSeconds:
                    description: (Applicable when deploy_stage_type=DEPLOY_FUNCTION)
                      (Updatable) Timeout for execution of the Function. Value in
                      seconds.
                    type: number
                  greenBackendIps:
                    description: (Updatable) Collection of backend environment IP
                      addresses.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            type: string
                          type: array
                      type: object
                    type: array
                  helmChartDeployArtifactId:
                    description: (Updatable) Helm chart artifact OCID.
                    type: string
                  helmCommandArtifactIds:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) List of Helm command artifact OCIDs.
                    items:
                      type: string
                    type: array
                  id:
                    description: (Updatable) The OCID of the predecessor stage. If
                      a stage is the first stage in the pipeline, then the ID is the
                      pipeline's OCID.
                    type: string
                  isAsync:
                    description: (Updatable) A boolean flag specifies whether this
                      stage executes asynchronously.
                    type: boolean
                  isDebugEnabled:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Enables helm --debug option to stream output to
                      tf stdout. Set to false by default.
                    type: boolean
                  isForceEnabled:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Force resource update through delete; or if required,
                      recreate. Set to false by default.
                    type: boolean
                  isUninstallOnStageDelete:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Uninstall the Helm chart release on deleting the
                      stage.
                    type: boolean
                  isValidationEnabled:
                    description: (Updatable) A boolean flag specifies whether the
                      invoked function should be validated.
                    type: boolean
                  kubernetesManifestDeployArtifactIds:
                    description: (Updatable) List of Kubernetes manifest artifact
                      OCIDs.
                    items:
                      type: string
                    type: array
                  lifecycleDetails:
                    description: A message describing the current state in more detail.
                      For example, can be used to provide actionable information for
                      a resource in Failed state.
                    type: string
                  loadBalancerConfig:
                    description: (Updatable) Specifies config for load balancer traffic
                      shift stages. The Load Balancer specified here should be an
                      Application Load Balancer type. Network Load Balancers are not
                      supported.
                    items:
                      properties:
                        backendPort:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT
                            | LOAD_BALANCER_TRAFFIC_SHIFT) (Updatable) Listen port
                            for the backend server.
                          type: number
                        listenerName:
                          description: (Updatable) Name of the load balancer listener.
                          type: string
                        loadBalancerId:
                          description: (Updatable) The OCID of the load balancer.
                          type: string
                        state:
                          description: The current state of the deployment stage.
                          type: string
                      type: object
                    type: array
                  maxHistory:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Limit the maximum number of revisions saved per
                      release. Use 0 for no limit. Set to 10 by default
                    type: number
                  maxMemoryInMbs:
                    description: (Applicable when deploy_stage_type=DEPLOY_FUNCTION)
                      (Updatable) Maximum usable memory for the Function (in MB).
                    type: string
                  namespace:
                    description: Canary namespace to be used for Kubernetes canary
                      deployment.
                    type: string
                  okeBlueGreenDeployStageId:
                    description: The OCID of the upstream OKE blue-green deployment
                      stage in this pipeline.
                    type: string
                  okeCanaryDeployStageId:
                    description: The OCID of an upstream OKE canary deployment stage
                      in this pipeline.
                    type: string
                  okeCanaryTrafficShiftDeployStageId:
                    description: The OCID of an upstream OKE canary deployment traffic
                      shift stage in this pipeline.
                    type: string
                  okeClusterDeployEnvironmentId:
                    description: (Updatable) Kubernetes cluster environment OCID for
                      deployment.
                    type: string
                  productionLoadBalancerConfig:
                    description: Specifies configuration for load balancer traffic
                      shift stages. The load balancer specified here should be an
                      Application load balancer type. Network load balancers are not
                      supported.
                    items:
                      properties:
                        backendPort:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT
                            | LOAD_BALANCER_TRAFFIC_SHIFT) (Updatable) Listen port
                            for the backend server.
                          type: number
                        listenerName:
                          description: (Updatable) Name of the load balancer listener.
                          type: string
                        loadBalancerId:
                          description: (Updatable) The OCID of the load balancer.
                          type: string
                        state:
                          description: The current state of the deployment stage.
                          type: string
                      type: object
                    type: array
                  projectId:
                    description: The OCID of a project.
                    type: string
                  purpose:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) The purpose of running this Helm stage
                    type: string
                  releaseName:
                    description: (Updatable) Default name of the chart instance. Must
                      be unique within a Kubernetes namespace.
                    type: string
                  rollbackPolicy:
                    description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT
                      | LOAD_BALANCER_TRAFFIC_SHIFT | OKE_DEPLOYMENT | OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Specifies the rollback policy. This is initiated
                      on the failure of certain stage types.
                    items:
                      properties:
                        policyType:
                          description: (Updatable) Specifies if the failure instance
                            size is given by absolute number or by percentage.
                          type: string
                      type: object
                    type: array
                  rolloutPolicy:
                    description: (Updatable) Description of rollout policy for load
                      balancer traffic shift stage.
                    items:
                      properties:
                        batchCount:
                          description: (Updatable) The number that will be used to
                            determine how many instances will be deployed concurrently.
                          type: number
                        batchDelayInSeconds:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_BLUE_GREEN_DEPLOYMENT
                            | COMPUTE_INSTANCE_GROUP_CANARY_DEPLOYMENT | COMPUTE_INSTANCE_GROUP_CANARY_TRAFFIC_SHIFT
                            | COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT | LOAD_BALANCER_TRAFFIC_SHIFT
                            | OKE_CANARY_TRAFFIC_SHIFT) (Updatable) The duration of
                            delay between batch rollout. The default delay is 1 minute.
                          type: number
                        batchPercentage:
                          description: (Updatable) The percentage that will be used
                            to determine how many instances will be deployed concurrently.
                          type: number
                        policyType:
                          description: (Updatable) Specifies if the failure instance
                            size is given by absolute number or by percentage.
                          type: string
                        rampLimitPercent:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_CANARY_TRAFFIC_SHIFT
                            | LOAD_BALANCER_TRAFFIC_SHIFT | OKE_CANARY_TRAFFIC_SHIFT)
                            (Updatable) Indicates the criteria to stop.
                          type: number
                      type: object
                    type: array
                  setString:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Specifies the name and value pairs to set helm values.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            properties:
                              name:
                                description: (Updatable) Name of the parameter (case-sensitive).
                                type: string
                              value:
                                description: (Updatable) Value of the parameter.
                                type: string
                            type: object
                          type: array
                      type: object
                    type: array
                  setValues:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Specifies the name and value pairs to set helm values.
                    items:
                      properties:
                        items:
                          description: (Applicable when deploy_stage_type=LOAD_BALANCER_TRAFFIC_SHIFT)
                            (Updatable) The IP address of the backend server. A server
                            could be a compute instance or a load balancer.
                          items:
                            properties:
                              name:
                                description: (Updatable) Name of the parameter (case-sensitive).
                                type: string
                              value:
                                description: (Updatable) Value of the parameter.
                                type: string
                            type: object
                          type: array
                      type: object
                    type: array
                  shouldCleanupOnFail:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Allow deletion of new resources created during when
                      an upgrade fails. Set to false by default.
                    type: boolean
                  shouldNotWait:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Does not wait until all the resources are in a ready
                      state to mark the release as successful if set to true. Set
                      to false by default.
                    type: boolean
                  shouldResetValues:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) During upgrade, reset the values to the ones built
                      into the chart. It overrides shouldReuseValues. Set to false
                      by default.
                    type: boolean
                  shouldReuseValues:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) During upgrade, reuse the values of the last release
                      and merge overrides from the command line. Set to false by default.
                    type: boolean
                  shouldSkipCrds:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) If set, no CRDs are installed. By default, CRDs
                      are installed only if they are not present already. Set to false
                      by default.
                    type: boolean
                  shouldSkipRenderSubchartNotes:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) If set, renders subchart notes along with the parent.
                      Set to false by default.
                    type: boolean
                  state:
                    description: The current state of the deployment stage.
                    type: string
                  systemTags:
                    additionalProperties:
                      type: string
                    description: 'Usage of system tag keys. These predefined keys
                      are scoped to namespaces. See Resource Tags. Example: {"orcl-cloud.free-tier-retained":
                      "true"}'
                    type: object
                    x-kubernetes-map-type: granular
                  testLoadBalancerConfig:
                    description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_BLUE_GREEN_DEPLOYMENT
                      | COMPUTE_INSTANCE_GROUP_CANARY_DEPLOYMENT) (Updatable) Specifies
                      configuration for load balancer traffic shift stages. The load
                      balancer specified here should be an Application load balancer
                      type. Network load balancers are not supported.
                    items:
                      properties:
                        backendPort:
                          description: (Applicable when deploy_stage_type=COMPUTE_INSTANCE_GROUP_ROLLING_DEPLOYMENT
                            | LOAD_BALANCER_TRAFFIC_SHIFT) (Updatable) Listen port
                            for the backend server.
                          type: number
                        listenerName:
                          description: (Updatable) Name of the load balancer listener.
                          type: string
                        loadBalancerId:
                          description: (Updatable) The OCID of the load balancer.
                          type: string
                        state:
                          description: The current state of the deployment stage.
                          type: string
                      type: object
                    type: array
                  timeCreated:
                    description: Time the deployment stage was created. Format defined
                      by RFC3339.
                    type: string
                  timeUpdated:
                    description: Time the deployment stage was updated. Format defined
                      by RFC3339.
                    type: string
                  timeoutInSeconds:
                    description: (Applicable when deploy_stage_type=SHELL | OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) Time to wait for execution of a Shell/Helm stage.
                      Defaults to 36000 seconds for Shell and 300 seconds for Helm
                      Stage
                    type: number
                  trafficShiftTarget:
                    description: (Updatable) Specifies the target or destination backend
                      set.
                    type: string
                  valuesArtifactIds:
                    description: (Applicable when deploy_stage_type=OKE_HELM_CHART_DEPLOYMENT)
                      (Updatable) List of values.yaml file artifact OCIDs.
                    items:
                      type: string
                    type: array
                  waitCriteria:
                    description: (Updatable) Specifies wait criteria for the Wait
                      stage.
                    items:
                      properties:
                        waitDuration:
                          description: (Updatable) The absolute wait duration. An
                            ISO 8601 formatted duration string. Minimum waitDuration
                            should be 5 seconds. Maximum waitDuration can be up to
                            2 days.
                          type: string
                        waitType:
                          description: (Updatable) Wait criteria type.
                          type: string
                      type: object
                    type: array
                type: object
              conditions:
                description: Conditions of the resource.
                items:
                  description: A Condition that may apply to a resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        LastTransitionTime is the last time this condition transitioned from one
                        status to another.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        A Message containing details about this condition's last transition from
                        one status to another, if any.
                      type: string
                    observedGeneration:
                      description: |-
                        ObservedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      type: integer
                    reason:
                      description: A Reason for this condition's last transition from
                        one status to another.
                      type: string
                    status:
                      description: Status of this condition; is it currently True,
                        False, or Unknown?
                      type: string
                    type:
                      description: |-
                        Type of this condition. At most one of each condition type may apply to
                        a resource at any point in time.
                      type: string
                  required:
                  - lastTransitionTime
                  - reason
                  - status
                  - type
                  type: object
                type: array
                x-kubernetes-list-map-keys:
                - type
                x-kubernetes-list-type: map
              observedGeneration:
                description: |-
                  ObservedGeneration is the latest metadata.generation
                  which resulted in either a ready state, or stalled due to error
                  it can not recover from without human intervention.
                format: int64
                type: integer
            type: object
        required:
        - spec
        type: object
    served: true
    storage: true
    subresources:
      status: {}
